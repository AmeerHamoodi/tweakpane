!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tweakpane=e():t.Tweakpane=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".tp-fldv_t,.tp-rotv_t{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(200,202,208,0.1);color:#c8cad0;cursor:pointer;display:block;height:24px;line-height:24px;overflow:hidden;padding-left:30px;position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%}.tp-fldv_t:hover,.tp-rotv_t:hover{background-color:rgba(200,202,208,0.15)}.tp-fldv_t:focus,.tp-rotv_t:focus{background-color:rgba(200,202,208,0.2)}.tp-fldv_t:active,.tp-rotv_t:active{background-color:rgba(200,202,208,0.25)}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, #c8cad0, #c8cad0 2px, transparent 2px, transparent 4px, #c8cad0 4px, #c8cad0);border-radius:2px;bottom:0;content:'';display:block;height:6px;left:12px;margin:auto;position:absolute;top:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);transition:-webkit-transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded .tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{-webkit-transform:none;transform:none}.tp-fldv_c>.tp-fldv:first-child,.tp-rotv_c>.tp-fldv:first-child{margin-top:-4px}.tp-fldv_c>.tp-fldv:last-child,.tp-rotv_c>.tp-fldv:last-child{margin-bottom:-4px}.tp-fldv_c>*+*,.tp-rotv_c>*+*{margin-top:4px}.tp-fldv_c>.tp-fldv+.tp-fldv,.tp-rotv_c>.tp-fldv+.tp-fldv{margin-top:0}.tp-fldv_c>.tp-sptv+.tp-sptv,.tp-rotv_c>.tp-sptv+.tp-sptv{margin-top:0}.tp-btnv{padding:0 4px}.tp-btnv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:#adafb8;border-radius:2px;color:#2f3137;cursor:pointer;display:block;font-weight:bold;height:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.tp-btnv_b:hover{background-color:#bbbcc4}.tp-btnv_b:focus{background-color:#c8cad0}.tp-btnv_b:active{background-color:#d6d7db}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv_c{border-left:rgba(200,202,208,0.1) solid 4px;box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height 0.2s ease-out, opacity 0.2s linear, padding 0.2s ease-out}.tp-fldv_t:hover+.tp-fldv_c{border-left-color:rgba(200,202,208,0.15)}.tp-fldv_t:focus+.tp-fldv_c{border-left-color:rgba(200,202,208,0.2)}.tp-fldv_t:active+.tp-fldv_c{border-left-color:rgba(200,202,208,0.25)}.tp-fldv.tp-fldv-expanded .tp-fldv_c{opacity:1;padding-bottom:4px;padding-top:4px;-webkit-transform:none;transform:none}.tp-ckbiv_l{display:block;position:relative}.tp-ckbiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background:red;left:0;opacity:0;position:absolute;top:0}.tp-ckbiv_m{background-color:rgba(200,202,208,0.15);border-radius:2px;cursor:pointer;display:block;height:20px;position:relative;width:20px}.tp-ckbiv_m::before{background-color:#c8cad0;border-radius:2px;bottom:4px;content:'';display:block;left:4px;opacity:0;position:absolute;right:4px;top:4px}.tp-ckbiv_i:hover+.tp-ckbiv_m{background-color:rgba(200,202,208,0.15)}.tp-ckbiv_i:focus+.tp-ckbiv_m{background-color:rgba(200,202,208,0.25)}.tp-ckbiv_i:active+.tp-ckbiv_m{background-color:rgba(200,202,208,0.35)}.tp-ckbiv_i:checked+.tp-ckbiv_m::before{opacity:1}.tp-lstiv{color:#c8cad0;display:block;padding:0;position:relative}.tp-lstiv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:#adafb8;border-radius:2px;color:#2f3137;cursor:pointer;display:block;height:20px;line-height:20px;padding:0 4px;width:100%}.tp-lstiv_s:hover{background-color:#bbbcc4}.tp-lstiv_s:focus{background-color:#c8cad0}.tp-lstiv_s:active{background-color:#d6d7db}.tp-lstiv_m{border-color:#2f3137 transparent transparent;border-style:solid;border-width:3px;bottom:0;box-sizing:border-box;height:6px;margin:auto;pointer-events:none;position:absolute;right:6px;top:3px;width:6px}.tp-sldiv{color:#c8cad0;display:block;padding:0}.tp-sldiv_o{box-sizing:border-box;cursor:pointer;height:20px;margin:0 6px;position:relative}.tp-sldiv_o::before{background-color:rgba(200,202,208,0.2);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldiv_i{height:100%;left:0;position:absolute;top:0}.tp-sldiv_i::before{background-color:#adafb8;border-radius:2px;bottom:0;content:'';display:block;height:12px;margin:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldiv_o:hover .tp-sldiv_i::before{background-color:#bbbcc4}.tp-sldiv_o:focus .tp-sldiv_i::before{background-color:#c8cad0}.tp-sldiv_o:active .tp-sldiv_i::before{background-color:#d6d7db}.tp-cswtxtiv{display:flex}.tp-cswtxtiv_s{flex-grow:0;flex-shrink:0;width:20px}.tp-cswtxtiv_t{flex:1;margin-left:4px}.tp-txtiv{color:#c8cad0;display:block;padding:0}.tp-txtiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(200,202,208,0.15);border-radius:2px;box-sizing:border-box;color:#c8cad0;font-family:inherit;height:20px;line-height:20px;width:100%;padding:0 4px}.tp-txtiv_i:hover{background-color:rgba(200,202,208,0.15)}.tp-txtiv_i:focus{background-color:rgba(200,202,208,0.25)}.tp-txtiv_i:active{background-color:rgba(200,202,208,0.35)}.tp-sldtxtiv{display:flex}.tp-sldtxtiv_s{flex:2}.tp-sldtxtiv_t{flex:1;margin-left:4px}.tp-lblv{align-items:center;display:flex;padding-left:4px;padding-right:4px}.tp-lblv_l{color:rgba(200,202,208,0.8);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding-left:4px;padding-right:16px}.tp-lblv_v{flex-grow:0;flex-shrink:0;width:160px}.tp-grpmv{color:#c8cad0;display:block;padding:0;position:relative}.tp-grpmv_g{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%;display:block;height:60px}.tp-grpmv_g polyline{fill:none;stroke:rgba(200,202,208,0.7);stroke-linejoin:round}.tp-grpmv_t{font-size:0.9em;left:0;pointer-events:none;position:absolute;text-indent:4px;top:0;visibility:hidden}.tp-grpmv_t.tp-grpmv_t-valid{visibility:visible}.tp-grpmv_t::before{background-color:rgba(200,202,208,0.7);border-radius:100%;content:'';display:block;height:4px;left:-2px;position:absolute;top:-2px;width:4px}.tp-sglmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%;padding:0 4px}.tp-mllmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%;display:block;height:60px;line-height:20px;padding:0 4px;resize:none;white-space:pre}.tp-cswmv_sw{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%}.tp-rotv{background-color:#2f3137;border-radius:6px;box-shadow:0 2px 4px rgba(0,0,0,0.2);font-family:\"Roboto Mono\",\"Source Code Pro\",Menlo,Courier,monospace;font-size:11px;font-weight:500;overflow:hidden;text-align:left}.tp-rotv_m{transition:none}.tp-rotv_c{box-sizing:border-box;height:0;padding-bottom:0;padding-top:0}.tp-rotv.tp-rotv-expanded .tp-rotv_c{height:auto;padding-bottom:4px;padding-top:4px}.tp-sptv_r{background-color:rgba(24,24,27,0.3);border-width:0;display:block;height:4px;margin:0;width:100%}\n",""])},function(t,e,n){t.exports=n(3).default},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r);function i(t){return"false"!==t&&!!t}function a(t){return String(t)}var u=function(t){var e=parseFloat(t);return isNaN(e)?null:e};function l(t){if("number"==typeof t)return t;if("string"==typeof t){var e=u(t);if(null!==e&&void 0!==e)return e}return 0}function c(t){return String(t)}function s(t){return String(t)}function f(t){return t}var p=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.message=function(t){return"invalidparams"===t.type?"Invalid parameters for ".concat(t.context.name):"nomatchingcontroller"===t.type?"No matching controller for ".concat(t.context.key):"Unexpected error"}(e),this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type};p.prototype=Object.create(Error.prototype),p.prototype.constructor=p;var h={forceCast:function(t){return t},getOrDefault:function(t,e){return null!==t&&void 0!==t?t:e},ifNotEmpty:function(t,e,n){null!==t&&void 0!==t?e(t):n&&n()}};function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var v=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.obj_=e,this.key_=n,this.presetKey_=h.getOrDefault(r,n)}return function(t,e,n){e&&d(t.prototype,e),n&&d(t,n)}(t,[{key:"read",value:function(){return this.obj_[this.key_]}},{key:"write",value:function(t){this.obj_[this.key_]=t}},{key:"key",get:function(){return this.key_}},{key:"presetKey",get:function(){return this.presetKey_}}]),t}(),b=[function(t){var e=t.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},function(t){var e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);return e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null},,],y=function(t){return b.reduce(function(e,n){return e||n(t)},null)};function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constraints_=e.constraints}return function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(t,[{key:"constrain",value:function(t){return this.constraints_.reduce(function(t,e){return e.constrain(t)},t)}},{key:"constraints",get:function(){return this.constraints_}}]),t}();function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opts_=e.options}return function(t,e,n){e&&g(t.prototype,e),n&&g(t,n)}(t,[{key:"constrain",value:function(t){var e=this.opts_;return 0===e.length?t:e.filter(function(e){return e.value===t}).length>0?t:e[0].value}},{key:"options",get:function(){return this.opts_}}]),t}(),k={findConstraint:function(t,e){if(t instanceof e)return t;if(t instanceof _){var n=t.constraints.reduce(function(t,n){return t||(n instanceof e?n:null)},null);if(n)return n}return null}};function x(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var O=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers_={}}return function(t,e,n){e&&C(t.prototype,e),n&&C(t,n)}(t,[{key:"on",value:function(t,e){var n=this.observers_[t];return n||(n=this.observers_[t]=[]),n.push({handler:e}),this}},{key:"off",value:function(t,e){return this.observers_[t]=this.observers_[t].filter(function(t){return t.handler!==e}),this}},{key:"emit",value:function(t,e){var n=this.observers_[t];n&&n.forEach(function(t){var n=e||[];t.handler.apply(t,x(n))})}}]),t}();function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constraint_=n,this.emitter=new O,this.rawValue_=e}return function(t,e,n){e&&E(t.prototype,e),n&&E(t,n)}(t,[{key:"constraint",get:function(){return this.constraint_}},{key:"rawValue",get:function(){return this.rawValue_},set:function(t){var e=this.constraint_?this.constraint_.constrain(t):t;!this.constructor.equalsValue(this.rawValue_,e)&&(this.rawValue_=e,this.emitter.emit("change",[e]))}}],[{key:"equalsValue",value:function(t,e){return t===e}}]),t}();function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var V=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onValueChange_=this.onValueChange_.bind(this),this.reader_=e.reader,this.writer_=e.writer,this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.target=e.target,this.read()}return function(t,e,n){e&&S(t.prototype,e),n&&S(t,n)}(t,[{key:"read",value:function(){var t=this.target.read();void 0!==t&&(this.value.rawValue=this.reader_(t))}},{key:"write_",value:function(t){var e=this.writer_?this.writer_(t):t;this.target.write(e)}},{key:"onValueChange_",value:function(t){this.write_(t)}}]),t}(),P="tp",T={input:"iv",monitor:"mv","":"v"};function L(t,e){var n=T[e||""];return function(e,r){return[P,"-",t,n,e?"_".concat(e):"",r?"-".concat(r):""].join("")}}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc_=e,this.elem_=this.doc_.createElement("div")}return function(t,e,n){e&&M(t.prototype,e),n&&M(t,n)}(t,[{key:"document",get:function(){return this.doc_}},{key:"element",get:function(){return this.elem_}}]),t}();function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var A=L("ckb","input"),B=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),z(z(r=function(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?z(t):e}(this,F(e).call(this,t)))).onValueChange_=r.onValueChange_.bind(z(z(r))),r.element.classList.add(A());var o=t.createElement("label");o.classList.add(A("l")),r.element.appendChild(o);var i=t.createElement("input");i.classList.add(A("i")),i.type="checkbox",o.appendChild(i),r.inputElem_=i;var a=t.createElement("div");return a.classList.add(A("m")),o.appendChild(a),n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(e,I),function(t,e,n){e&&D(t.prototype,e),n&&D(t,n)}(e,[{key:"update",value:function(){this.inputElem_.checked=this.value.rawValue}},{key:"onValueChange_",value:function(){this.update()}},{key:"inputElement",get:function(){return this.inputElem_}}]),e}();function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var X=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onInputChange_=this.onInputChange_.bind(this),this.value_=n.value,this.view_=new B(e,{value:this.value_}),this.view_.inputElement.addEventListener("change",this.onInputChange_)}return function(t,e,n){e&&H(t.prototype,e),n&&H(t,n)}(t,[{key:"onInputChange_",value:function(t){var e=h.forceCast(t.currentTarget);this.value_.rawValue=e.checked,this.view_.update()}},{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $=L("lst","input"),J=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),q(q(r=function(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?q(t):e}(this,G(e).call(this,t)))).onValueChange_=r.onValueChange_.bind(q(q(r))),r.element.classList.add($()),r.stringifyValue_=n.stringifyValue;var o=t.createElement("select");o.classList.add($("s")),n.options.forEach(function(e,n){var i=t.createElement("option");i.dataset.index=String(n),i.textContent=e.text,i.value=r.stringifyValue_(e.value),o.appendChild(i)}),r.element.appendChild(o),r.selectElem_=o;var i=t.createElement("div");return i.classList.add($("m")),r.element.appendChild(i),n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,I),function(t,e,n){e&&N(t.prototype,e),n&&N(t,n)}(e,[{key:"update",value:function(){this.selectElem_.value=this.stringifyValue_(this.value.rawValue)}},{key:"onValueChange_",value:function(){this.update()}},{key:"selectElement",get:function(){return this.selectElem_}}]),e}();function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onSelectChange_=this.onSelectChange_.bind(this),this.value_=n.value,this.listItems_=function(t){var e=t.constraint?k.findConstraint(t.constraint,w):null;return e?e.options:null}(this.value_)||[],this.view_=new J(e,{options:this.listItems_,stringifyValue:n.stringifyValue,value:this.value_}),this.view_.selectElement.addEventListener("change",this.onSelectChange_)}return function(t,e,n){e&&Q(t.prototype,e),n&&Q(t,n)}(t,[{key:"onSelectChange_",value:function(t){var e=h.forceCast(t.currentTarget).selectedOptions.item(0);if(e){var n=Number(e.dataset.index);this.value_.rawValue=this.listItems_[n].value,this.view_.update()}}},{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt=L("lbl"),ot=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=tt(this,et(e).call(this,t))).label=n.label,r.element.classList.add(rt());var o=t.createElement("div");o.classList.add(rt("l")),o.textContent=r.label,r.element.appendChild(o);var i=t.createElement("div");return i.classList.add(rt("v")),i.appendChild(n.view.element),r.element.appendChild(i),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(e,I),e}();var it=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.binding=n.binding,this.controller=n.controller,this.view=new ot(e,{label:n.label,view:this.controller.view})};function at(t,e,n){var r=new j(!1,function(t){var e=[];return t.options&&e.push(new w({options:t.options})),new _({constraints:e})}(n)),o=new V({reader:i,target:e,value:r});return new it(t,{binding:o,controller:function(t,e){var n=e.constraint;return n&&k.findConstraint(n,w)?new Y(t,{stringifyValue:a,value:e}):new X(t,{value:e})}(t,r),label:n.label||e.key})}function ut(t){if("string"==typeof t){var e=y(t);if(e)return e}return{r:0,g:0,b:0}}function lt(t){var e=[t.r,t.g,t.b].map(function(t){var e=t.toString(16);return 1===e.length?"0".concat(e):e}).join("");return"#".concat(e)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var st=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&ct(t.prototype,e),n&&ct(t,n)}(t,[{key:"format",value:function(t){return lt(t)}}]),t}();function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.rawValues_=[],this.totalCount_=e}return function(t,e,n){e&&ft(t.prototype,e),n&&ft(t,n)}(t,[{key:"append",value:function(t){this.rawValues_.push(t),this.rawValues_.length>this.totalCount_&&this.rawValues_.splice(0,this.rawValues_.length-this.totalCount_),this.emitter.emit("update",[t])}},{key:"rawValues",get:function(){return this.rawValues_}},{key:"totalCount",get:function(){return this.totalCount_}}]),t}();function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var mt=L("csw","monitor"),_t=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),yt(yt(r=function(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?yt(t):e}(this,vt(e).call(this,t)))).onValueUpdate_=r.onValueUpdate_.bind(yt(yt(r))),r.element.classList.add(mt());var o=t.createElement("div");return o.classList.add(mt("sw")),r.element.appendChild(o),r.swatchElem_=o,n.value.emitter.on("update",r.onValueUpdate_),r.value=n.value,r.update(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(e,I),function(t,e,n){e&&dt(t.prototype,e),n&&dt(t,n)}(e,[{key:"update",value:function(){var t=this.value.rawValues;this.swatchElem_.style.backgroundColor=t.length>0?lt(t[t.length-1]):""}},{key:"onValueUpdate_",value:function(){this.update()}}]),e}();function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ot=L("txt","input"),Et=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ct(Ct(r=function(t,e){return!e||"object"!==gt(e)&&"function"!=typeof e?Ct(t):e}(this,kt(e).call(this,t)))).onValueChange_=r.onValueChange_.bind(Ct(Ct(r))),r.formatter_=n.formatter,r.element.classList.add(Ot());var o=t.createElement("input");return o.classList.add(Ot("i")),o.type="text",r.element.appendChild(o),r.inputElem_=o,n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,I),function(t,e,n){e&&wt(t.prototype,e),n&&wt(t,n)}(e,[{key:"update",value:function(){this.inputElem_.value=this.formatter_.format(this.value.rawValue)}},{key:"onValueChange_",value:function(){this.update()}},{key:"inputElement",get:function(){return this.inputElem_}}]),e}();function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lt=L("cswtxt","input"),Mt=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Vt(this,Pt(e).call(this,t))).element.classList.add(Lt());var o=t.createElement("div");o.classList.add(Lt("s")),r.swatchMonitorView_=n.swatchMonitorView,o.appendChild(r.swatchMonitorView_.element),r.element.appendChild(o);var i=t.createElement("div");return i.classList.add(Lt("t")),r.textInputView_=n.textInputView,i.appendChild(r.textInputView_.element),r.element.appendChild(i),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(e,I),function(t,e,n){e&&St(t.prototype,e),n&&St(t,n)}(e,[{key:"update",value:function(){this.swatchMonitorView_.update(),this.textInputView_.update()}},{key:"value",get:function(){return this.textInputView_.value}}]),e}();function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ut=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value_=n.value,this.view_=new _t(e,{value:this.value_})}return function(t,e,n){e&&It(t.prototype,e),n&&It(t,n)}(t,[{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function Dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ft=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.value_=n.value,this.view_=new Et(e,{formatter:n.formatter,value:this.value_}),this.view_.inputElement.addEventListener("change",this.onInputChange_)}return function(t,e,n){e&&Dt(t.prototype,e),n&&Dt(t,n)}(t,[{key:"onInputChange_",value:function(t){var e=this,n=h.forceCast(t.currentTarget).value;h.ifNotEmpty(this.parser_(n),function(t){e.value_.rawValue=t}),this.view_.update()}},{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value_=n.value;var r=new pt(1);n.value.emitter.on("change",function(){r.append(n.value.rawValue)}),r.append(n.value.rawValue),this.swatchMc_=new Ut(e,{value:r}),this.textIc_=new Ft(e,{formatter:n.formatter,parser:n.parser,value:n.value}),this.view_=new Mt(e,{swatchMonitorView:this.swatchMc_.view,textInputView:this.textIc_.view})}return function(t,e,n){e&&Rt(t.prototype,e),n&&Rt(t,n)}(t,[{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Bt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.max_=e.max,this.min_=e.min}return function(t,e,n){e&&At(t.prototype,e),n&&At(t,n)}(t,[{key:"constrain",value:function(t){var e=t;return null!==this.min_&&void 0!==this.min_&&(e=Math.max(e,this.min_)),null!==this.max_&&void 0!==this.max_&&(e=Math.min(e,this.max_)),e}},{key:"minValue",get:function(){return this.min_}},{key:"maxValue",get:function(){return this.max_}}]),t}();function Ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Xt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.step_=e.step}return function(t,e,n){e&&Ht(t.prototype,e),n&&Ht(t,n)}(t,[{key:"constrain",value:function(t){return(t<0?-Math.round(-t/this.step_):Math.round(t/this.step_))*this.step_}},{key:"step",get:function(){return this.step_}}]),t}();function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Nt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.digits_=e}return function(t,e,n){e&&Kt(t.prototype,e),n&&Kt(t,n)}(t,[{key:"format",value:function(t){return t.toFixed(this.digits_)}},{key:"digits",get:function(){return this.digits_}}]),t}(),Gt={map:function(t,e,n,r,o){return r+(t-e)/(n-e)*(o-r)},getDecimalDigits:function(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}};function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yt(t){var e=function(t){var e=t.constraint?k.findConstraint(t.constraint,Xt):null;return e?e.step:null}(t);return h.getOrDefault(e,1)}var Zt=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qt(Qt(r=function(t,e){return!e||"object"!==Wt(e)&&"function"!=typeof e?Qt(t):e}(this,$t(e).call(this,t,n)))).onInputKeyDown_=r.onInputKeyDown_.bind(Qt(Qt(r))),r.step_=Yt(r.value_),r.view_.inputElement.addEventListener("keydown",r.onInputKeyDown_),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}(e,Ft),function(t,e,n){e&&qt(t.prototype,e),n&&qt(t,n)}(e,[{key:"onInputKeyDown_",value:function(t){var e=this.step_*(t.altKey?.1:1)*(t.shiftKey?10:1);38===t.keyCode?(this.value_.rawValue+=e,this.view_.update()):40===t.keyCode&&(this.value_.rawValue-=e,this.view_.update())}}]),e}();function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ie=L("sld","input"),ae=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),oe(oe(r=function(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?oe(t):e}(this,ne(e).call(this,t)))).onValueChange_=r.onValueChange_.bind(oe(oe(r))),r.minValue_=n.minValue,r.maxValue_=n.maxValue,r.element.classList.add(ie());var o=t.createElement("div");o.classList.add(ie("o")),r.element.appendChild(o),r.outerElem_=o;var i=t.createElement("div");return i.classList.add(ie("i")),r.outerElem_.appendChild(i),r.innerElem_=i,n.value.emitter.on("change",r.onValueChange_),r.value=n.value,r.update(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,I),function(t,e,n){e&&ee(t.prototype,e),n&&ee(t,n)}(e,[{key:"update",value:function(){var t=Gt.map(this.value.rawValue,this.minValue_,this.maxValue_,0,100);this.innerElem_.style.width="".concat(t,"%")}},{key:"onValueChange_",value:function(){this.update()}},{key:"outerElement",get:function(){return this.outerElem_}},{key:"innerElement",get:function(){return this.innerElem_}}]),e}();function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pe=L("sldtxt","input"),he=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ce(this,se(e).call(this,t))).element.classList.add(pe());var o=t.createElement("div");o.classList.add(pe("s")),r.sliderInputView_=n.sliderInputView,o.appendChild(r.sliderInputView_.element),r.element.appendChild(o);var i=t.createElement("div");return i.classList.add(pe("t")),r.textInputView_=n.textInputView,i.appendChild(r.textInputView_.element),r.element.appendChild(i),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(e,I),function(t,e,n){e&&le(t.prototype,e),n&&le(t,n)}(e,[{key:"update",value:function(){this.sliderInputView_.update(),this.textInputView_.update()}},{key:"value",get:function(){return this.sliderInputView_.value}}]),e}();function de(t){t.offsetHeight}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ye(t){var e=be(function(t){var e=t.constraint?k.findConstraint(t.constraint,Bt):null;return e?[e.minValue,e.maxValue]:[null,null]}(t),2),n=e[0],r=e[1];return[h.getOrDefault(n,0),h.getOrDefault(r,100)]}var me=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onSliderMouseDown_=this.onSliderMouseDown_.bind(this),this.onSliderTouchMove_=this.onSliderTouchMove_.bind(this),this.onSliderTouchStart_=this.onSliderTouchStart_.bind(this),this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.pressed_=!1,this.value_=n.value;var r=be(ye(this.value_),2),o=r[0],i=r[1];this.minValue_=o,this.maxValue_=i,this.view_=new ae(e,{maxValue:this.maxValue_,minValue:this.minValue_,value:this.value_}),!function(t){return void 0!==t.ontouchstart}(e)?(this.view_.outerElement.addEventListener("mousedown",this.onSliderMouseDown_),e.addEventListener("mousemove",this.onDocumentMouseMove_),e.addEventListener("mouseup",this.onDocumentMouseUp_)):(this.view_.outerElement.addEventListener("touchstart",this.onSliderTouchStart_),this.view_.outerElement.addEventListener("touchmove",this.onSliderTouchMove_))}return function(t,e,n){e&&ve(t.prototype,e),n&&ve(t,n)}(t,[{key:"computeRawValueFromX_",value:function(t){var e=this.view_.outerElement.getBoundingClientRect().width;return Gt.map(t,0,e,this.minValue_,this.maxValue_)}},{key:"onSliderMouseDown_",value:function(t){t.preventDefault(),this.pressed_=!0,this.value_.rawValue=this.computeRawValueFromX_(t.offsetX),this.view_.update()}},{key:"onDocumentMouseMove_",value:function(t){if(this.pressed_){var e=this.view_.document.defaultView.scrollX+this.view.outerElement.getBoundingClientRect().left,n=t.pageX-e;this.value_.rawValue=this.computeRawValueFromX_(n),this.view_.update()}}},{key:"onDocumentMouseUp_",value:function(t){if(this.pressed_){this.pressed_=!1;var e=this.view_.document.defaultView.scrollX+this.view.outerElement.getBoundingClientRect().left,n=t.pageX-e;this.value_.rawValue=this.computeRawValueFromX_(n),this.view_.update()}}},{key:"onSliderTouchStart_",value:function(t){t.preventDefault();var e=t.targetTouches[0].clientX-this.view.outerElement.getBoundingClientRect().left;this.value_.rawValue=this.computeRawValueFromX_(e),this.view_.update()}},{key:"onSliderTouchMove_",value:function(t){var e=t.targetTouches[0].clientX-this.view.outerElement.getBoundingClientRect().left;this.value_.rawValue=this.computeRawValueFromX_(e),this.view_.update()}},{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ge=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value_=n.value,this.sliderIc_=new me(e,{value:n.value}),this.textIc_=new Zt(e,{formatter:n.formatter,parser:n.parser,value:n.value}),this.view_=new he(e,{sliderInputView:this.sliderIc_.view,textInputView:this.textIc_.view})}return function(t,e,n){e&&_e(t.prototype,e),n&&_e(t,n)}(t,[{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function we(t){var e=t.constraint,n=e&&k.findConstraint(e,Xt);return n?Gt.getDecimalDigits(n.step):Math.max(Gt.getDecimalDigits(t.rawValue),2)}function ke(t,e,n){var r=new j(0,function(t){var e=[];return null!==t.step&&void 0!==t.step&&e.push(new Xt({step:t.step})),(null!==t.max&&void 0!==t.max||null!==t.min&&void 0!==t.min)&&e.push(new Bt({max:t.max,min:t.min})),t.options&&e.push(new w({options:t.options})),new _({constraints:e})}(n)),o=new V({reader:l,target:e,value:r});return new it(t,{binding:o,controller:function(t,e){var n=e.constraint;return n&&k.findConstraint(n,w)?new Y(t,{stringifyValue:c,value:e}):n&&k.findConstraint(n,Bt)?new ge(t,{formatter:new Nt(we(e)),parser:u,value:e}):new Zt(t,{formatter:new Nt(we(e)),parser:u,value:e})}(t,r),label:n.label||e.key})}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ce=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&xe(t.prototype,e),n&&xe(t,n)}(t,[{key:"format",value:function(t){return t}}]),t}();function Oe(t,e,n){var r=new j("",function(t){var e=[];return t.options&&e.push(new w({options:t.options})),new _({constraints:e})}(n)),o=new V({reader:s,target:e,value:r});return new it(t,{binding:o,controller:function(t,e){var n=e.constraint;return n&&k.findConstraint(n,w)?new Y(t,{stringifyValue:f,value:e}):new Ft(t,{formatter:new Ce,parser:f,value:e})}(t,r),label:n.label||e.key})}function Ee(t,e){var n={label:t.label,max:t.max,min:t.min,step:t.step};if(t.options)if(Array.isArray(t.options))n.options=t.options.map(function(t){return{text:t.text,value:e(t.value)}});else{var r=t.options,o=Object.keys(r);n.options=o.reduce(function(t,n){return t.concat({text:n,value:e(r[n])})},[])}return n}function je(t,e,n){var r=e.read();if("boolean"==typeof r)return at(t,e,Ee(n,i));if("number"==typeof r)return ke(t,e,Ee(n,l));if("string"==typeof r){var o=y(r);return o?function(t,e,n,r){var o=new j(n);return new it(t,{binding:new V({reader:ut,target:e,value:o,writer:lt}),controller:new zt(t,{formatter:new st,parser:y,value:o}),label:r.label||e.key})}(t,e,o,n):Oe(t,e,Ee(n,s))}throw new p({context:{key:e.key},type:"nomatchingcontroller"})}function Se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ve=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onTick_=this.onTick_.bind(this),this.reader_=e.reader,this.target=e.target,this.value=e.value,this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}return function(t,e,n){e&&Se(t.prototype,e),n&&Se(t,n)}(t,[{key:"read",value:function(){var t=this.target.read();void 0!==t&&this.value.append(this.reader_(t))}},{key:"onTick_",value:function(){this.read()}}]),t}();function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Te=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onTick_=this.onTick_.bind(this),this.onWindowBlur_=this.onWindowBlur_.bind(this),this.onWindowFocus_=this.onWindowFocus_.bind(this),this.active_=!0,this.emitter=new O,n>0&&(this.id_=setInterval(function(){r.active_&&r.onTick_()},n))}return function(t,e,n){e&&Pe(t.prototype,e),n&&Pe(t,n)}(t,[{key:"dispose",value:function(){this.id_&&(clearInterval(this.id_),this.id_=null)}},{key:"onTick_",value:function(){this.emitter.emit("tick")}},{key:"onWindowBlur_",value:function(){this.active_=!1}},{key:"onWindowFocus_",value:function(){this.active_=!0}}]),t}();function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ie(t){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Fe=L("mll","monitor"),Re=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),De(De(r=function(t,e){return!e||"object"!==Le(e)&&"function"!=typeof e?De(t):e}(this,Ie(e).call(this,t)))).onValueUpdate_=r.onValueUpdate_.bind(De(De(r))),r.formatter_=n.formatter,r.element.classList.add(Fe());var o=t.createElement("textarea");return o.classList.add(Fe("i")),o.readOnly=!0,r.element.appendChild(o),r.textareaElem_=o,n.value.emitter.on("update",r.onValueUpdate_),r.value=n.value,r.update(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(e,I),function(t,e,n){e&&Me(t.prototype,e),n&&Me(t,n)}(e,[{key:"update",value:function(){var t=this,e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight;e.textContent=this.value.rawValues.map(function(e){return t.formatter_.format(e)}).join("\n"),n&&(e.scrollTop=e.scrollHeight)}},{key:"onValueUpdate_",value:function(){this.update()}}]),e}();function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ae=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value_=n.value,this.view_=new Re(e,{formatter:n.formatter,value:this.value_})}return function(t,e,n){e&&ze(t.prototype,e),n&&ze(t,n)}(t,[{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function Be(t){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ke(t,e){return(Ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ge=L("sgl","monitor"),We=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ne(Ne(r=function(t,e){return!e||"object"!==Be(e)&&"function"!=typeof e?Ne(t):e}(this,Xe(e).call(this,t)))).onValueUpdate_=r.onValueUpdate_.bind(Ne(Ne(r))),r.formatter_=n.formatter,r.element.classList.add(Ge());var o=t.createElement("input");return o.classList.add(Ge("i")),o.readOnly=!0,o.type="text",r.element.appendChild(o),r.inputElem_=o,n.value.emitter.on("update",r.onValueUpdate_),r.value=n.value,r.update(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ke(t,e)}(e,I),function(t,e,n){e&&He(t.prototype,e),n&&He(t,n)}(e,[{key:"update",value:function(){var t=this.value.rawValues;this.inputElem_.value=t.length>0?this.formatter_.format(t[t.length-1]):""}},{key:"onValueUpdate_",value:function(){this.update()}}]),e}();function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $e=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value_=n.value,this.view_=new We(e,{formatter:n.formatter,value:this.value_})}return function(t,e,n){e&&qe(t.prototype,e),n&&qe(t,n)}(t,[{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.index_=-1}return function(t,e,n){e&&Je(t.prototype,e),n&&Je(t,n)}(t,[{key:"index",get:function(){return this.index_},set:function(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",[t]))}}]),t}();function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tn(t){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var rn="http://www.w3.org/2000/svg",on=L("grp","monitor"),an=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),nn(nn(r=function(t,e){return!e||"object"!==Ye(e)&&"function"!=typeof e?nn(t):e}(this,tn(e).call(this,t)))).onCursorChange_=r.onCursorChange_.bind(nn(nn(r))),nn(nn(r)).onValueUpdate_=r.onValueUpdate_.bind(nn(nn(r))),r.element.classList.add(on()),r.formatter_=n.formatter,r.minValue_=n.minValue,r.maxValue_=n.maxValue,r.cursor_=n.cursor,r.cursor_.emitter.on("change",r.onCursorChange_);var o=t.createElementNS(rn,"svg");o.classList.add(on("g")),r.element.appendChild(o),r.svgElem_=o;var i=t.createElementNS(rn,"polyline");r.svgElem_.appendChild(i),r.lineElem_=i;var a=t.createElement("div");return a.classList.add(on("t")),r.element.appendChild(a),r.tooltipElem_=a,n.value.emitter.on("update",r.onValueUpdate_),r.value=n.value,r.update(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&en(t,e)}(e,I),function(t,e,n){e&&Ze(t.prototype,e),n&&Ze(t,n)}(e,[{key:"update",value:function(){var t=this.svgElem_.getBoundingClientRect(),e=this.value.totalCount-1,n=this.minValue_,r=this.maxValue_;this.lineElem_.setAttributeNS(null,"points",this.value.rawValues.map(function(o,i){return[Gt.map(i,0,e,0,t.width),Gt.map(o,n,r,t.height,0)].join(",")}).join(" "));var o=this.tooltipElem_,i=this.value.rawValues[this.cursor_.index];if(void 0!==i){o.classList.add(on("t","valid"));var a=Gt.map(this.cursor_.index,0,e,0,t.width),u=Gt.map(i,n,r,t.height,0);o.style.left="".concat(a,"px"),o.style.top="".concat(u,"px"),this.tooltipElem_.textContent="".concat(this.formatter_.format(i))}else o.classList.remove(on("t","valid"))}},{key:"onValueUpdate_",value:function(){this.update()}},{key:"onCursorChange_",value:function(){this.update()}},{key:"graphElement",get:function(){return this.svgElem_}}]),e}();function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ln=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.value_=n.value,this.cursor_=new Qe,this.view_=new an(e,{cursor:this.cursor_,formatter:n.formatter,maxValue:n.maxValue,minValue:n.minValue,value:this.value_}),this.view_.graphElement.addEventListener("mouseleave",this.onGraphMouseLeave_),this.view_.graphElement.addEventListener("mousemove",this.onGraphMouseMove_)}return function(t,e,n){e&&un(t.prototype,e),n&&un(t,n)}(t,[{key:"onGraphMouseLeave_",value:function(){this.cursor_.index=-1}},{key:"onGraphMouseMove_",value:function(t){var e=this.view_.graphElement.getBoundingClientRect(),n=t.offsetX;this.cursor_.index=Math.floor(Gt.map(n,0,e.width,0,this.value_.totalCount))}},{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();var cn=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.binding=n.binding,this.controller=n.controller,this.view=new ot(e,{label:n.label,view:this.controller.view})};function sn(){return new Nt(2)}function fn(t,e,n){var r=e.read();if("number"==typeof r)return"graph"===n.type?function(t,e,n){var r=new pt(h.getOrDefault(n.count,64)),o=new Te(t,h.getOrDefault(n.interval,200));return new cn(t,{binding:new Ve({reader:l,value:r,target:e,ticker:o}),controller:new ln(t,{formatter:sn(),maxValue:h.getOrDefault(n.max,100),minValue:h.getOrDefault(n.min,0),value:r}),label:n.label||e.key})}(t,e,n):function(t,e,n){var r=new pt(h.getOrDefault(n.count,1)),o=1===r.totalCount?new $e(t,{formatter:sn(),value:r}):new Ae(t,{formatter:sn(),value:r}),i=new Te(t,h.getOrDefault(n.interval,200));return new cn(t,{binding:new Ve({reader:l,value:r,target:e,ticker:i}),controller:o,label:n.label||e.key})}(t,e,n);if("string"==typeof r)return function(t,e,n){var r=new pt(h.getOrDefault(n.count,1)),o=r.totalCount>1||n.multiline?new Ae(t,{formatter:new Ce,value:r}):new $e(t,{formatter:new Ce,value:r}),i=new Te(t,h.getOrDefault(n.interval,200));return new cn(t,{binding:new Ve({reader:s,value:r,target:e,ticker:i}),controller:o,label:n.label||e.key})}(t,e,n);throw new p({context:{key:e.key},type:"nomatchingcontroller"})}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var hn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.title=e}return function(t,e,n){e&&pn(t.prototype,e),n&&pn(t,n)}(t,[{key:"click",value:function(){this.emitter.emit("click")}}]),t}();function dn(t){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bn(t,e){return!e||"object"!==dn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yn(t){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mn(t,e){return(mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _n=L("btn"),gn=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=bn(this,yn(e).call(this,t))).button=n.button,r.element.classList.add(_n());var o=t.createElement("button");return o.classList.add(_n("b")),o.textContent=r.button.title,r.element.appendChild(o),r.buttonElem_=o,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)}(e,I),function(t,e,n){e&&vn(t.prototype,e),n&&vn(t,n)}(e,[{key:"buttonElement",get:function(){return this.buttonElem_}}]),e}();function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var kn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onButtonClick_=this.onButtonClick_.bind(this),this.button=new hn(n.title),this.view=new gn(e,{button:this.button}),this.view.buttonElement.addEventListener("click",this.onButtonClick_)}return function(t,e,n){e&&wn(t.prototype,e),n&&wn(t,n)}(t,[{key:"onButtonClick_",value:function(){this.button.click()}}]),t}();function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.expanded_=n,this.expandedHeight_=null,this.title=e}return function(t,e,n){e&&xn(t.prototype,e),n&&xn(t,n)}(t,[{key:"expanded",get:function(){return this.expanded_},set:function(t){this.expanded_!==t&&(this.expanded_=t,this.emitter.emit("change"))}},{key:"expandedHeight",get:function(){return this.expandedHeight_},set:function(t){this.expandedHeight_!==t&&(this.expandedHeight_=t,this.emitter.emit("change"))}}]),t}();function On(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var En=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.items_=[]}return function(t,e,n){e&&On(t.prototype,e),n&&On(t,n)}(t,[{key:"append",value:function(t){this.items_.push(t),this.emitter.emit("append",[t])}},{key:"items",get:function(){return this.items_}}]),t}();function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pn(t,e){return(Pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ln=L("fld"),Mn=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Tn(Tn(r=function(t,e){return!e||"object"!==jn(e)&&"function"!=typeof e?Tn(t):e}(this,Vn(e).call(this,t)))).onFolderChange_=r.onFolderChange_.bind(Tn(Tn(r))),r.folder_=n.folder,r.folder_.emitter.on("change",r.onFolderChange_),r.element.classList.add(Ln());var o=t.createElement("button");o.classList.add(Ln("t")),o.textContent=r.folder_.title,r.element.appendChild(o),r.titleElem_=o;var i=t.createElement("div");i.classList.add(Ln("m")),r.titleElem_.appendChild(i);var a=t.createElement("div");return a.classList.add(Ln("c")),r.element.appendChild(a),r.containerElem_=a,r.applyModel_(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pn(t,e)}(e,I),function(t,e,n){e&&Sn(t.prototype,e),n&&Sn(t,n)}(e,[{key:"applyModel_",value:function(){var t=this,e=this.folder_.expanded,n=Ln(null,"expanded");e?this.element.classList.add(n):this.element.classList.remove(n),h.ifNotEmpty(this.folder_.expandedHeight,function(n){var r=e?n:0;t.containerElem_.style.height="".concat(r,"px")},function(){t.containerElem_.style.height=e?"auto":"0px"})}},{key:"onFolderChange_",value:function(){this.applyModel_()}},{key:"titleElement",get:function(){return this.titleElem_}},{key:"containerElement",get:function(){return this.containerElem_}}]),e}();function In(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Un=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onFolderChange_=this.onFolderChange_.bind(this),this.onInputChange_=this.onInputChange_.bind(this),this.onMonitorUpdate_=this.onMonitorUpdate_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiControllerListAppend_=this.onUiControllerListAppend_.bind(this),this.emitter=new O,this.folder=new Cn(n.title,h.getOrDefault(n.expanded,!0)),this.folder.emitter.on("change",this.onFolderChange_),this.ucList_=new En,this.ucList_.emitter.on("append",this.onUiControllerListAppend_),this.doc_=e,this.view=new Mn(this.doc_,{folder:this.folder}),this.view.titleElement.addEventListener("click",this.onTitleClick_)}return function(t,e,n){e&&In(t.prototype,e),n&&In(t,n)}(t,[{key:"computeExpandedHeight_",value:function(){var t=this,e=this.view.containerElement,n=0;return function(t,e){var n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}(e,function(){var r=t.folder.expanded;t.folder.expandedHeight=null,t.folder.expanded=!0,de(e),n=e.getBoundingClientRect().height,t.folder.expanded=r,de(e)}),n}},{key:"onTitleClick_",value:function(){this.folder.expanded=!this.folder.expanded}},{key:"onUiControllerListAppend_",value:function(t){if(t instanceof it)t.binding.value.emitter.on("change",this.onInputChange_);else if(t instanceof cn){t.binding.value.emitter.on("update",this.onMonitorUpdate_)}this.view.containerElement.appendChild(t.view.element),this.folder.expandedHeight=this.computeExpandedHeight_()}},{key:"onInputChange_",value:function(t){this.emitter.emit("inputchange",[t])}},{key:"onMonitorUpdate_",value:function(t){this.emitter.emit("monitorupdate",[t])}},{key:"onFolderChange_",value:function(){this.emitter.emit("fold")}},{key:"document",get:function(){return this.doc_}},{key:"uiControllerList",get:function(){return this.ucList_}}]),t}();function Dn(t){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zn(t,e){return(zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function An(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Bn=L("rot"),Hn=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),An(An(r=function(t,e){return!e||"object"!==Dn(e)&&"function"!=typeof e?An(t):e}(this,Rn(e).call(this,t)))).onFolderChange_=r.onFolderChange_.bind(An(An(r))),r.folder_=n.folder,r.folder_&&r.folder_.emitter.on("change",r.onFolderChange_),r.element.classList.add(Bn());var o=r.folder_;if(o){var i=t.createElement("button");i.classList.add(Bn("t")),i.textContent=o.title,r.element.appendChild(i);var a=t.createElement("div");a.classList.add(Bn("m")),i.appendChild(a),r.titleElem_=i}var u=t.createElement("div");return u.classList.add(Bn("c")),r.element.appendChild(u),r.containerElem_=u,r.applyModel_(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zn(t,e)}(e,I),function(t,e,n){e&&Fn(t.prototype,e),n&&Fn(t,n)}(e,[{key:"applyModel_",value:function(){var t=!this.folder_||this.folder_.expanded,e=Bn(null,"expanded");t?this.element.classList.add(e):this.element.classList.remove(e)}},{key:"onFolderChange_",value:function(){this.applyModel_()}},{key:"titleElement",get:function(){return this.titleElem_}},{key:"containerElement",get:function(){return this.containerElem_}}]),e}();function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Kn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onFolderChange_=this.onFolderChange_.bind(this),this.onRootFolderChange_=this.onRootFolderChange_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiControllerListAppend_=this.onUiControllerListAppend_.bind(this),this.onInputChange_=this.onInputChange_.bind(this),this.onMonitorUpdate_=this.onMonitorUpdate_.bind(this),this.emitter=new O,this.folder=function(t){return t.title?new Cn(t.title,h.getOrDefault(t.expanded,!0)):null}(n),this.ucList_=new En,this.ucList_.emitter.on("append",this.onUiControllerListAppend_),this.doc_=e,this.view=new Hn(this.doc_,{folder:this.folder}),this.view.titleElement&&this.view.titleElement.addEventListener("click",this.onTitleClick_),this.folder&&this.folder.emitter.on("change",this.onRootFolderChange_)}return function(t,e,n){e&&Xn(t.prototype,e),n&&Xn(t,n)}(t,[{key:"onUiControllerListAppend_",value:function(t){if(t instanceof it)t.binding.value.emitter.on("change",this.onInputChange_);else if(t instanceof cn){t.binding.value.emitter.on("update",this.onMonitorUpdate_)}else if(t instanceof Un){var e=t.emitter;e.on("fold",this.onFolderChange_),e.on("inputchange",this.onInputChange_),e.on("monitorupdate",this.onMonitorUpdate_)}this.view.containerElement.appendChild(t.view.element)}},{key:"onTitleClick_",value:function(){this.folder&&(this.folder.expanded=!this.folder.expanded)}},{key:"onInputChange_",value:function(t){this.emitter.emit("inputchange",[t])}},{key:"onMonitorUpdate_",value:function(t){this.emitter.emit("monitorupdate",[t])}},{key:"onFolderChange_",value:function(){this.emitter.emit("fold")}},{key:"onRootFolderChange_",value:function(){this.emitter.emit("fold")}},{key:"document",get:function(){return this.doc_}},{key:"uiControllerList",get:function(){return this.ucList_}}]),t}();function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){return!e||"object"!==Nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $n=L("spt"),Jn=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Gn(this,Wn(e).call(this,t))).element.classList.add($n());var r=t.createElement("hr");return r.classList.add($n("r")),n.element.appendChild(r),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}(e,I),e}();var Qn=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=new Jn(e)};function Yn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zn(t,e){return t.reduce(function(t,n){return n instanceof Un&&t.push.apply(t,Yn(Zn(n.uiControllerList.items,e))),n instanceof e&&t.push(n),t},[])}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var er=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&tr(t.prototype,e),n&&tr(t,n)}(t,[{key:"on",value:function(t,e){this.controller.button.emitter.on(t,e)}}]),t}();function nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&nr(t.prototype,e),n&&nr(t,n)}(t,[{key:"on",value:function(t,e){return this.controller.binding.value.emitter.on(t,e),this}},{key:"refresh",value:function(){this.controller.binding.read()}}]),t}();function or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ir=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&or(t.prototype,e),n&&or(t,n)}(t,[{key:"on",value:function(t,e){return this.controller.binding.value.emitter.on(t,e),this}},{key:"refresh",value:function(){this.controller.binding.read()}}]),t}();function ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ur={change:"inputchange",fold:"fold",update:"monitorupdate"},lr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&ar(t.prototype,e),n&&ar(t,n)}(t,[{key:"addInput",value:function(t,e,n){var r=n||{},o=je(this.controller.document,new v(t,e,r.presetKey),r);return this.controller.uiControllerList.append(o),new rr(o)}},{key:"addMonitor",value:function(t,e,n){var r=n||{},o=fn(this.controller.document,new v(t,e),r);return this.controller.uiControllerList.append(o),new ir(o)}},{key:"addButton",value:function(t){var e=new kn(this.controller.document,t);return this.controller.uiControllerList.append(e),new er(e)}},{key:"addSeparator",value:function(){var t=new Qn(this.controller.document);this.controller.uiControllerList.append(t)}},{key:"on",value:function(t,e){var n=ur[t];n&&this.controller.emitter.on(n,e);return this}},{key:"expanded",get:function(){return this.controller.folder.expanded},set:function(t){this.controller.folder.expanded=t}}]),t}();function cr(t){return t.reduce(function(t,e){return Object.assign(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e.presetKey,e.read()))},{})}function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var fr={change:"inputchange",fold:"fold",update:"monitorupdate"},pr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&sr(t.prototype,e),n&&sr(t,n)}(t,[{key:"addInput",value:function(t,e,n){var r=n||{},o=je(this.controller.document,new v(t,e,r.presetKey),r);return this.controller.uiControllerList.append(o),new rr(o)}},{key:"addMonitor",value:function(t,e,n){var r=n||{},o=fn(this.controller.document,new v(t,e),r);return this.controller.uiControllerList.append(o),new ir(o)}},{key:"addButton",value:function(t){var e=new kn(this.controller.document,t);return this.controller.uiControllerList.append(e),new er(e)}},{key:"addFolder",value:function(t){var e=new Un(this.controller.document,t);return this.controller.uiControllerList.append(e),new lr(e)}},{key:"addSeparator",value:function(){var t=new Qn(this.controller.document);this.controller.uiControllerList.append(t)}},{key:"importPreset",value:function(t){!function(t,e){t.forEach(function(t){var n=e[t.presetKey];void 0!==n&&t.write(n)})}(Zn(this.controller.uiControllerList.items,it).map(function(t){return t.binding.target}),t),this.refresh()}},{key:"exportPreset",value:function(){return cr(Zn(this.controller.uiControllerList.items,it).map(function(t){return t.binding.target}))}},{key:"on",value:function(t,e){var n=fr[t];n&&this.controller.emitter.on(n,e);return this}},{key:"refresh",value:function(){Zn(this.controller.uiControllerList.items,it).forEach(function(t){t.binding.read()}),Zn(this.controller.uiControllerList.items,cn).forEach(function(t){t.binding.read()})}},{key:"element",get:function(){return this.controller.view.element}},{key:"expanded",get:function(){var t=this.controller.folder;return!t||t.expanded},set:function(t){var e=this.controller.folder;e&&(e.expanded=t)}}]),t}();function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dr(t,e){return!e||"object"!==hr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vr(t){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function br(t,e){return(br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"default",function(){return yr});var yr=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},i=h.getOrDefault(r.document,h.forceCast(new Function("return this")()).document);!function(t){if(!t.querySelector("style[data-for=".concat("tweakpane","]"))){var e=t.createElement("style");e.dataset.for="tweakpane",e.textContent=o.a.toString(),t.head&&t.head.appendChild(e)}}(i);var a=new Kn(i,{title:r.title});return n=dr(this,vr(e).call(this,a)),(r.container||function(t){var e=t.createElement("div");return e.classList.add(L("dfw")()),t.body&&t.body.appendChild(e),e}(i)).appendChild(n.element),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&br(t,e)}(e,pr),e}()}])});