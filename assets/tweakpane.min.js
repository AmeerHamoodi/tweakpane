!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.tweakpane=e():t.Tweakpane=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".tp-fldv_t,.tp-rotv_t{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(200,202,208,0.1);color:#c8cad0;cursor:pointer;display:block;height:24px;line-height:24px;overflow:hidden;padding-left:30px;position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%}.tp-fldv_t:hover,.tp-rotv_t:hover{background-color:rgba(200,202,208,0.15)}.tp-fldv_t:focus,.tp-rotv_t:focus{background-color:rgba(200,202,208,0.2)}.tp-fldv_t:active,.tp-rotv_t:active{background-color:rgba(200,202,208,0.25)}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, #c8cad0, #c8cad0 2px, transparent 2px, transparent 4px, #c8cad0 4px, #c8cad0);border-radius:2px;bottom:0;content:'';display:block;height:6px;left:12px;margin:auto;position:absolute;top:0;-webkit-transform:rotate(90deg);transform:rotate(90deg);transition:-webkit-transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded .tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{-webkit-transform:none;transform:none}.tp-fldv_c>.tp-fldv:first-child,.tp-rotv_c>.tp-fldv:first-child{margin-top:-4px}.tp-fldv_c>.tp-fldv:last-child,.tp-rotv_c>.tp-fldv:last-child{margin-bottom:-4px}.tp-fldv_c>*+*,.tp-rotv_c>*+*{margin-top:4px}.tp-fldv_c>.tp-fldv+.tp-fldv,.tp-rotv_c>.tp-fldv+.tp-fldv{margin-top:0}.tp-fldv_c>.tp-sptv+.tp-sptv,.tp-rotv_c>.tp-sptv+.tp-sptv{margin-top:0}.tp-btnv{padding:0 4px}.tp-btnv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:#adafb8;border-radius:2px;color:#2f3137;cursor:pointer;display:block;font-weight:bold;height:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.tp-btnv_b:hover{background-color:#bbbcc4}.tp-btnv_b:focus{background-color:#c8cad0}.tp-btnv_b:active{background-color:#d6d7db}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv_c{border-left:rgba(200,202,208,0.1) solid 4px;box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height 0.2s ease-out, opacity 0.2s linear, padding 0.2s ease-out}.tp-fldv_t:hover+.tp-fldv_c{border-left-color:rgba(200,202,208,0.15)}.tp-fldv_t:focus+.tp-fldv_c{border-left-color:rgba(200,202,208,0.2)}.tp-fldv_t:active+.tp-fldv_c{border-left-color:rgba(200,202,208,0.25)}.tp-fldv.tp-fldv-expanded .tp-fldv_c{opacity:1;padding-bottom:4px;padding-top:4px;-webkit-transform:none;transform:none}.tp-ckbiv_l{display:block;position:relative}.tp-ckbiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background:red;left:0;opacity:0;position:absolute;top:0}.tp-ckbiv_m{background-color:rgba(200,202,208,0.15);border-radius:2px;cursor:pointer;display:block;height:20px;position:relative;width:20px}.tp-ckbiv_m::before{background-color:#c8cad0;border-radius:2px;bottom:4px;content:'';display:block;left:4px;opacity:0;position:absolute;right:4px;top:4px}.tp-ckbiv_i:hover+.tp-ckbiv_m{background-color:rgba(200,202,208,0.15)}.tp-ckbiv_i:focus+.tp-ckbiv_m{background-color:rgba(200,202,208,0.25)}.tp-ckbiv_i:active+.tp-ckbiv_m{background-color:rgba(200,202,208,0.35)}.tp-ckbiv_i:checked+.tp-ckbiv_m::before{opacity:1}.tp-lstiv{color:#c8cad0;display:block;padding:0;position:relative}.tp-lstiv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:#adafb8;border-radius:2px;color:#2f3137;cursor:pointer;display:block;height:20px;line-height:20px;padding:0 4px;width:100%}.tp-lstiv_s:hover{background-color:#bbbcc4}.tp-lstiv_s:focus{background-color:#c8cad0}.tp-lstiv_s:active{background-color:#d6d7db}.tp-lstiv_m{border-color:#2f3137 transparent transparent;border-style:solid;border-width:3px;bottom:0;box-sizing:border-box;height:6px;margin:auto;pointer-events:none;position:absolute;right:6px;top:3px;width:6px}.tp-sldiv{color:#c8cad0;display:block;padding:0}.tp-sldiv_o{box-sizing:border-box;cursor:pointer;height:20px;margin:0 6px;position:relative}.tp-sldiv_o::before{background-color:rgba(200,202,208,0.2);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldiv_i{height:100%;left:0;position:absolute;top:0}.tp-sldiv_i::before{background-color:#adafb8;border-radius:2px;bottom:0;content:'';display:block;height:12px;margin:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldiv_o:hover .tp-sldiv_i::before{background-color:#bbbcc4}.tp-sldiv_o:focus .tp-sldiv_i::before{background-color:#c8cad0}.tp-sldiv_o:active .tp-sldiv_i::before{background-color:#d6d7db}.tp-cswtxtiv{display:flex}.tp-cswtxtiv_s{flex-grow:0;flex-shrink:0;width:20px}.tp-cswtxtiv_t{flex:1;margin-left:4px}.tp-txtiv{color:#c8cad0;display:block;padding:0}.tp-txtiv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(200,202,208,0.15);border-radius:2px;box-sizing:border-box;color:#c8cad0;font-family:inherit;height:20px;line-height:20px;width:100%;padding:0 4px}.tp-txtiv_i:hover{background-color:rgba(200,202,208,0.15)}.tp-txtiv_i:focus{background-color:rgba(200,202,208,0.25)}.tp-txtiv_i:active{background-color:rgba(200,202,208,0.35)}.tp-sldtxtiv{display:flex}.tp-sldtxtiv_s{flex:2}.tp-sldtxtiv_t{flex:1;margin-left:4px}.tp-lblv{align-items:center;display:flex;padding-left:4px;padding-right:4px}.tp-lblv_l{color:rgba(200,202,208,0.8);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;padding-left:4px;padding-right:16px}.tp-lblv_v{flex-grow:0;flex-shrink:0;width:160px}.tp-grpmv{color:#c8cad0;display:block;padding:0;position:relative}.tp-grpmv_g{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%;display:block;height:60px}.tp-grpmv_g polyline{fill:none;stroke:rgba(200,202,208,0.7);stroke-linejoin:round}.tp-grpmv_t{font-size:0.9em;left:0;pointer-events:none;position:absolute;text-indent:4px;top:0;visibility:hidden}.tp-grpmv_t.tp-grpmv_t-valid{visibility:visible}.tp-grpmv_t::before{background-color:rgba(200,202,208,0.7);border-radius:100%;content:'';display:block;height:4px;left:-2px;position:absolute;top:-2px;width:4px}.tp-sglmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%;padding:0 4px}.tp-mllmv_i{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%;display:block;height:60px;line-height:20px;padding:0 4px;resize:none;white-space:pre}.tp-cswmv_sw{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0;background-color:rgba(24,24,27,0.5);border-radius:2px;box-sizing:border-box;color:rgba(200,202,208,0.7);height:20px;width:100%}.tp-rotv{background-color:#2f3137;border-radius:6px;box-shadow:0 2px 4px rgba(0,0,0,0.2);font-family:\"Roboto Mono\",\"Source Code Pro\",Menlo,Courier,monospace;font-size:11px;font-weight:500;overflow:hidden;text-align:left}.tp-rotv_m{transition:none}.tp-rotv_c{box-sizing:border-box;height:0;padding-bottom:0;padding-top:0}.tp-rotv.tp-rotv-expanded .tp-rotv_c{height:auto;padding-bottom:4px;padding-top:4px}.tp-sptv_r{background-color:rgba(24,24,27,0.3);border-width:0;display:block;height:4px;margin:0;width:100%}\n",""])},function(t,e,n){t.exports=n(3).default},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(o),i=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(i).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o);function i(t){return"false"!==t&&!!t}function a(t){return String(t)}var u=function(t){var e=parseFloat(t);return isNaN(e)?null:e};function l(t){if("number"==typeof t)return t;if("string"==typeof t){var e=u(t);if(null!==e&&void 0!==e)return e}return 0}function c(t){return String(t)}function s(t){return String(t)}function f(t){return t}var p=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.message=function(t){return"invalidparams"===t.type?"Invalid parameters for ".concat(t.context.name):"nomatchingcontroller"===t.type?"No matching controller for ".concat(t.context.key):"Unexpected error"}(e),this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type};p.prototype=Object.create(Error.prototype),p.prototype.constructor=p;var h={forceCast:function(t){return t},getOrDefault:function(t,e){return null!==t&&void 0!==t?t:e},ifNotEmpty:function(t,e,n){null!==t&&void 0!==t?e(t):n&&n()}};function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var v=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.obj_=e,this.key_=n,this.presetKey_=h.getOrDefault(o,n)}return function(t,e,n){e&&d(t.prototype,e),n&&d(t,n)}(t,[{key:"read",value:function(){return this.obj_[this.key_]}},{key:"write",value:function(t){this.obj_[this.key_]=t}},{key:"key",get:function(){return this.key_}},{key:"presetKey",get:function(){return this.presetKey_}}]),t}(),b=[function(t){var e=t.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},function(t){var e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);return e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null},,],y=function(t){return b.reduce(function(e,n){return e||n(t)},null)};function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constraints_=e.constraints}return function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(t,[{key:"constrain",value:function(t){return this.constraints_.reduce(function(t,e){return e.constrain(t)},t)}},{key:"constraints",get:function(){return this.constraints_}}]),t}();function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opts_=e.options}return function(t,e,n){e&&_(t.prototype,e),n&&_(t,n)}(t,[{key:"constrain",value:function(t){var e=this.opts_;return 0===e.length?t:e.filter(function(e){return e.value===t}).length>0?t:e[0].value}},{key:"options",get:function(){return this.opts_}}]),t}(),k={findConstraint:function(t,e){if(t instanceof e)return t;if(t instanceof g){var n=t.constraints.reduce(function(t,n){return t||(n instanceof e?n:null)},null);if(n)return n}return null}};function x(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var O=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers_={}}return function(t,e,n){e&&C(t.prototype,e),n&&C(t,n)}(t,[{key:"on",value:function(t,e){var n=this.observers_[t];return n||(n=this.observers_[t]=[]),n.push({handler:e}),this}},{key:"off",value:function(t,e){return this.observers_[t]=this.observers_[t].filter(function(t){return t.handler!==e}),this}},{key:"emit",value:function(t,e){var n=this.observers_[t];n&&n.forEach(function(t){var n=e||[];t.handler.apply(t,x(n))})}}]),t}();function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var j=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constraint_=n,this.emitter=new O,this.rawValue_=e}return function(t,e,n){e&&E(t.prototype,e),n&&E(t,n)}(t,[{key:"constraint",get:function(){return this.constraint_}},{key:"rawValue",get:function(){return this.rawValue_},set:function(t){var e=this.constraint_?this.constraint_.constrain(t):t;!this.constructor.equalsValue(this.rawValue_,e)&&(this.rawValue_=e,this.emitter.emit("change",[e]))}}],[{key:"equalsValue",value:function(t,e){return t===e}}]),t}();function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var V=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onValueChange_=this.onValueChange_.bind(this),this.reader_=e.reader,this.writer_=e.writer,this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.target=e.target,this.read()}return function(t,e,n){e&&S(t.prototype,e),n&&S(t,n)}(t,[{key:"read",value:function(){var t=this.target.read();void 0!==t&&(this.value.rawValue=this.reader_(t))}},{key:"write_",value:function(t){var e=this.writer_?this.writer_(t):t;this.target.write(e)}},{key:"onValueChange_",value:function(t){this.write_(t)}}]),t}(),P="tp",T={input:"iv",monitor:"mv","":"v"};function L(t,e){var n=T[e||""];return function(e,o){return[P,"-",t,n,e?"_".concat(e):"",o?"-".concat(o):""].join("")}}function M(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var I=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc_=e,this.elem_=this.doc_.createElement("div")}return function(t,e,n){e&&M(t.prototype,e),n&&M(t,n)}(t,[{key:"document",get:function(){return this.doc_}},{key:"element",get:function(){return this.elem_}}]),t}();function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var A=L("ckb","input"),B=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),z(z(o=function(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?z(t):e}(this,F(e).call(this,t)))).onValueChange_=o.onValueChange_.bind(z(z(o))),o.element.classList.add(A());var r=t.createElement("label");r.classList.add(A("l")),o.element.appendChild(r);var i=t.createElement("input");i.classList.add(A("i")),i.type="checkbox",r.appendChild(i),o.inputElem_=i;var a=t.createElement("div");return a.classList.add(A("m")),r.appendChild(a),n.value.emitter.on("change",o.onValueChange_),o.value=n.value,o.update(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(e,I),function(t,e,n){e&&D(t.prototype,e),n&&D(t,n)}(e,[{key:"update",value:function(){this.inputElem_.checked=this.value.rawValue}},{key:"onValueChange_",value:function(){this.update()}},{key:"inputElement",get:function(){return this.inputElem_}}]),e}();function H(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var X=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onInputChange_=this.onInputChange_.bind(this),this.value=n.value,this.view=new B(e,{value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return function(t,e,n){e&&H(t.prototype,e),n&&H(t,n)}(t,[{key:"onInputChange_",value:function(t){var e=h.forceCast(t.currentTarget);this.value.rawValue=e.checked,this.view.update()}}]),t}();function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $=L("lst","input"),J=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),q(q(o=function(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?q(t):e}(this,G(e).call(this,t)))).onValueChange_=o.onValueChange_.bind(q(q(o))),o.element.classList.add($()),o.stringifyValue_=n.stringifyValue;var r=t.createElement("select");r.classList.add($("s")),n.options.forEach(function(e,n){var i=t.createElement("option");i.dataset.index=String(n),i.textContent=e.text,i.value=o.stringifyValue_(e.value),r.appendChild(i)}),o.element.appendChild(r),o.selectElem_=r;var i=t.createElement("div");return i.classList.add($("m")),o.element.appendChild(i),n.value.emitter.on("change",o.onValueChange_),o.value=n.value,o.update(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,I),function(t,e,n){e&&N(t.prototype,e),n&&N(t,n)}(e,[{key:"update",value:function(){this.selectElem_.value=this.stringifyValue_(this.value.rawValue)}},{key:"onValueChange_",value:function(){this.update()}},{key:"selectElement",get:function(){return this.selectElem_}}]),e}();function Q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onSelectChange_=this.onSelectChange_.bind(this),this.value_=n.value,this.listItems_=function(t){var e=t.constraint?k.findConstraint(t.constraint,w):null;return e?e.options:null}(this.value_)||[],this.view_=new J(e,{options:this.listItems_,stringifyValue:n.stringifyValue,value:this.value_}),this.view_.selectElement.addEventListener("change",this.onSelectChange_)}return function(t,e,n){e&&Q(t.prototype,e),n&&Q(t,n)}(t,[{key:"onSelectChange_",value:function(t){var e=h.forceCast(t.currentTarget).selectedOptions.item(0);if(e){var n=Number(e.dataset.index);this.value_.rawValue=this.listItems_[n].value,this.view_.update()}}},{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ot=L("lbl"),rt=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=tt(this,et(e).call(this,t))).label=n.label,o.element.classList.add(ot());var r=t.createElement("div");r.classList.add(ot("l")),r.textContent=o.label,o.element.appendChild(r);var i=t.createElement("div");return i.classList.add(ot("v")),i.appendChild(n.view.element),o.element.appendChild(i),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(e,I),e}();var it=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.binding=n.binding,this.controller=n.controller,this.view=new rt(e,{label:n.label,view:this.controller.view})};function at(t,e,n){var o=new j(!1,function(t){var e=[];return t.options&&e.push(new w({options:t.options})),new g({constraints:e})}(n)),r=new V({reader:i,target:e,value:o});return new it(t,{binding:r,controller:function(t,e){var n=e.constraint;return n&&k.findConstraint(n,w)?new Y(t,{stringifyValue:a,value:e}):new X(t,{value:e})}(t,o),label:n.label||e.key})}function ut(t){if("string"==typeof t){var e=y(t);if(e)return e}return{r:0,g:0,b:0}}function lt(t){var e=[t.r,t.g,t.b].map(function(t){var e=t.toString(16);return 1===e.length?"0".concat(e):e}).join("");return"#".concat(e)}function ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var st=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&ct(t.prototype,e),n&&ct(t,n)}(t,[{key:"format",value:function(t){return lt(t)}}]),t}();function ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var pt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.rawValues_=[],this.totalCount_=e}return function(t,e,n){e&&ft(t.prototype,e),n&&ft(t,n)}(t,[{key:"append",value:function(t){this.rawValues_.push(t),this.rawValues_.length>this.totalCount_&&this.rawValues_.splice(0,this.rawValues_.length-this.totalCount_),this.emitter.emit("update",[t])}},{key:"rawValues",get:function(){return this.rawValues_}},{key:"totalCount",get:function(){return this.totalCount_}}]),t}();function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var mt=L("csw","monitor"),gt=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),yt(yt(o=function(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?yt(t):e}(this,vt(e).call(this,t)))).onValueUpdate_=o.onValueUpdate_.bind(yt(yt(o))),o.element.classList.add(mt());var r=t.createElement("div");return r.classList.add(mt("sw")),o.element.appendChild(r),o.swatchElem_=r,n.value.emitter.on("update",o.onValueUpdate_),o.value=n.value,o.update(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(e,I),function(t,e,n){e&&dt(t.prototype,e),n&&dt(t,n)}(e,[{key:"update",value:function(){var t=this.value.rawValues;this.swatchElem_.style.backgroundColor=t.length>0?lt(t[t.length-1]):""}},{key:"onValueUpdate_",value:function(){this.update()}}]),e}();function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ot=L("txt","input"),Et=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ct(Ct(o=function(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?Ct(t):e}(this,kt(e).call(this,t)))).onValueChange_=o.onValueChange_.bind(Ct(Ct(o))),o.formatter_=n.formatter,o.element.classList.add(Ot());var r=t.createElement("input");return r.classList.add(Ot("i")),r.type="text",o.element.appendChild(r),o.inputElem_=r,n.value.emitter.on("change",o.onValueChange_),o.value=n.value,o.update(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,I),function(t,e,n){e&&wt(t.prototype,e),n&&wt(t,n)}(e,[{key:"update",value:function(){this.inputElem_.value=this.formatter_.format(this.value.rawValue)}},{key:"onValueChange_",value:function(){this.update()}},{key:"inputElement",get:function(){return this.inputElem_}}]),e}();function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Vt(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lt=L("cswtxt","input"),Mt=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=Vt(this,Pt(e).call(this,t))).element.classList.add(Lt());var r=t.createElement("div");r.classList.add(Lt("s")),o.swatchMonitorView_=n.swatchMonitorView,r.appendChild(o.swatchMonitorView_.element),o.element.appendChild(r);var i=t.createElement("div");return i.classList.add(Lt("t")),o.textInputView_=n.textInputView,i.appendChild(o.textInputView_.element),o.element.appendChild(i),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(e,I),function(t,e,n){e&&St(t.prototype,e),n&&St(t,n)}(e,[{key:"update",value:function(){this.swatchMonitorView_.update(),this.textInputView_.update()}},{key:"value",get:function(){return this.textInputView_.value}}]),e}();var It=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=n.value,this.view=new gt(e,{value:this.value})};function Ut(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Dt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.value=n.value,this.view=new Et(e,{formatter:n.formatter,value:this.value}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return function(t,e,n){e&&Ut(t.prototype,e),n&&Ut(t,n)}(t,[{key:"onInputChange_",value:function(t){var e=this,n=h.forceCast(t.currentTarget).value;h.ifNotEmpty(this.parser_(n),function(t){e.value.rawValue=t}),this.view.update()}}]),t}();function Ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Rt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value_=n.value;var o=new pt(1);n.value.emitter.on("change",function(){o.append(n.value.rawValue)}),o.append(n.value.rawValue),this.swatchMc_=new It(e,{value:o}),this.textIc_=new Dt(e,{formatter:n.formatter,parser:n.parser,value:n.value}),this.view_=new Mt(e,{swatchMonitorView:this.swatchMc_.view,textInputView:this.textIc_.view})}return function(t,e,n){e&&Ft(t.prototype,e),n&&Ft(t,n)}(t,[{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function zt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var At=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.max_=e.max,this.min_=e.min}return function(t,e,n){e&&zt(t.prototype,e),n&&zt(t,n)}(t,[{key:"constrain",value:function(t){var e=t;return null!==this.min_&&void 0!==this.min_&&(e=Math.max(e,this.min_)),null!==this.max_&&void 0!==this.max_&&(e=Math.min(e,this.max_)),e}},{key:"minValue",get:function(){return this.min_}},{key:"maxValue",get:function(){return this.max_}}]),t}();function Bt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ht=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.step_=e.step}return function(t,e,n){e&&Bt(t.prototype,e),n&&Bt(t,n)}(t,[{key:"constrain",value:function(t){return(t<0?-Math.round(-t/this.step_):Math.round(t/this.step_))*this.step_}},{key:"step",get:function(){return this.step_}}]),t}();function Xt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Kt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.digits_=e}return function(t,e,n){e&&Xt(t.prototype,e),n&&Xt(t,n)}(t,[{key:"format",value:function(t){return t.toFixed(this.digits_)}},{key:"digits",get:function(){return this.digits_}}]),t}(),Nt={map:function(t,e,n,o,r){return o+(t-e)/(n-e)*(r-o)},getDecimalDigits:function(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}};function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qt(t){var e=function(t){var e=t.constraint?k.findConstraint(t.constraint,Ht):null;return e?e.step:null}(t);return h.getOrDefault(e,1)}var Yt=function(t){function e(t,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Jt(Jt(o=function(t,e){return!e||"object"!==Gt(e)&&"function"!=typeof e?Jt(t):e}(this,qt(e).call(this,t,n)))).onInputKeyDown_=o.onInputKeyDown_.bind(Jt(Jt(o))),o.step_=Qt(o.value),o.view.inputElement.addEventListener("keydown",o.onInputKeyDown_),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(e,Dt),function(t,e,n){e&&Wt(t.prototype,e),n&&Wt(t,n)}(e,[{key:"onInputKeyDown_",value:function(t){var e=this.step_*(t.altKey?.1:1)*(t.shiftKey?10:1);38===t.keyCode?(this.value.rawValue+=e,this.view.update()):40===t.keyCode&&(this.value.rawValue-=e,this.view.update())}}]),e}();function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ee(t){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ne(t,e){return(ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var re=L("sld","input"),ie=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),oe(oe(o=function(t,e){return!e||"object"!==Zt(e)&&"function"!=typeof e?oe(t):e}(this,ee(e).call(this,t)))).onValueChange_=o.onValueChange_.bind(oe(oe(o))),o.minValue_=n.minValue,o.maxValue_=n.maxValue,o.element.classList.add(re());var r=t.createElement("div");r.classList.add(re("o")),o.element.appendChild(r),o.outerElem_=r;var i=t.createElement("div");return i.classList.add(re("i")),o.outerElem_.appendChild(i),o.innerElem_=i,n.value.emitter.on("change",o.onValueChange_),o.value=n.value,o.update(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}(e,I),function(t,e,n){e&&te(t.prototype,e),n&&te(t,n)}(e,[{key:"update",value:function(){var t=Nt.map(this.value.rawValue,this.minValue_,this.maxValue_,0,100);this.innerElem_.style.width="".concat(t,"%")}},{key:"onValueChange_",value:function(){this.update()}},{key:"outerElement",get:function(){return this.outerElem_}},{key:"innerElement",get:function(){return this.innerElem_}}]),e}();function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function le(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fe=L("sldtxt","input"),pe=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=le(this,ce(e).call(this,t))).element.classList.add(fe());var r=t.createElement("div");r.classList.add(fe("s")),o.sliderInputView_=n.sliderInputView,r.appendChild(o.sliderInputView_.element),o.element.appendChild(r);var i=t.createElement("div");return i.classList.add(fe("t")),o.textInputView_=n.textInputView,i.appendChild(o.textInputView_.element),o.element.appendChild(i),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(e,I),function(t,e,n){e&&ue(t.prototype,e),n&&ue(t,n)}(e,[{key:"update",value:function(){this.sliderInputView_.update(),this.textInputView_.update()}},{key:"value",get:function(){return this.sliderInputView_.value}}]),e}();function he(t){t.offsetHeight}function de(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ve(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function be(t){var e=ve(function(t){var e=t.constraint?k.findConstraint(t.constraint,At):null;return e?[e.minValue,e.maxValue]:[null,null]}(t),2),n=e[0],o=e[1];return[h.getOrDefault(n,0),h.getOrDefault(o,100)]}var ye=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onSliderMouseDown_=this.onSliderMouseDown_.bind(this),this.onSliderTouchMove_=this.onSliderTouchMove_.bind(this),this.onSliderTouchStart_=this.onSliderTouchStart_.bind(this),this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.pressed_=!1,this.value=n.value;var o=ve(be(this.value),2),r=o[0],i=o[1];this.minValue_=r,this.maxValue_=i,this.view=new ie(e,{maxValue:this.maxValue_,minValue:this.minValue_,value:this.value}),!function(t){return void 0!==t.ontouchstart}(e)?(this.view.outerElement.addEventListener("mousedown",this.onSliderMouseDown_),e.addEventListener("mousemove",this.onDocumentMouseMove_),e.addEventListener("mouseup",this.onDocumentMouseUp_)):(this.view.outerElement.addEventListener("touchstart",this.onSliderTouchStart_),this.view.outerElement.addEventListener("touchmove",this.onSliderTouchMove_))}return function(t,e,n){e&&de(t.prototype,e),n&&de(t,n)}(t,[{key:"computeRawValueFromX_",value:function(t){var e=this.view.outerElement.getBoundingClientRect().width;return Nt.map(t,0,e,this.minValue_,this.maxValue_)}},{key:"onSliderMouseDown_",value:function(t){t.preventDefault(),this.pressed_=!0,this.value.rawValue=this.computeRawValueFromX_(t.offsetX),this.view.update()}},{key:"onDocumentMouseMove_",value:function(t){if(this.pressed_){var e=this.view.document.defaultView.scrollX+this.view.outerElement.getBoundingClientRect().left,n=t.pageX-e;this.value.rawValue=this.computeRawValueFromX_(n),this.view.update()}}},{key:"onDocumentMouseUp_",value:function(t){if(this.pressed_){this.pressed_=!1;var e=this.view.document.defaultView.scrollX+this.view.outerElement.getBoundingClientRect().left,n=t.pageX-e;this.value.rawValue=this.computeRawValueFromX_(n),this.view.update()}}},{key:"onSliderTouchStart_",value:function(t){t.preventDefault();var e=t.targetTouches[0].clientX-this.view.outerElement.getBoundingClientRect().left;this.value.rawValue=this.computeRawValueFromX_(e),this.view.update()}},{key:"onSliderTouchMove_",value:function(t){var e=t.targetTouches[0].clientX-this.view.outerElement.getBoundingClientRect().left;this.value.rawValue=this.computeRawValueFromX_(e),this.view.update()}}]),t}();function me(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ge=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value_=n.value,this.sliderIc_=new ye(e,{value:n.value}),this.textIc_=new Yt(e,{formatter:n.formatter,parser:n.parser,value:n.value}),this.view_=new pe(e,{sliderInputView:this.sliderIc_.view,textInputView:this.textIc_.view})}return function(t,e,n){e&&me(t.prototype,e),n&&me(t,n)}(t,[{key:"value",get:function(){return this.value_}},{key:"view",get:function(){return this.view_}}]),t}();function _e(t){var e=t.constraint,n=e&&k.findConstraint(e,Ht);return n?Nt.getDecimalDigits(n.step):Math.max(Nt.getDecimalDigits(t.rawValue),2)}function we(t,e,n){var o=new j(0,function(t){var e=[];return null!==t.step&&void 0!==t.step&&e.push(new Ht({step:t.step})),(null!==t.max&&void 0!==t.max||null!==t.min&&void 0!==t.min)&&e.push(new At({max:t.max,min:t.min})),t.options&&e.push(new w({options:t.options})),new g({constraints:e})}(n)),r=new V({reader:l,target:e,value:o});return new it(t,{binding:r,controller:function(t,e){var n=e.constraint;return n&&k.findConstraint(n,w)?new Y(t,{stringifyValue:c,value:e}):n&&k.findConstraint(n,At)?new ge(t,{formatter:new Kt(_e(e)),parser:u,value:e}):new Yt(t,{formatter:new Kt(_e(e)),parser:u,value:e})}(t,o),label:n.label||e.key})}function ke(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var xe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&ke(t.prototype,e),n&&ke(t,n)}(t,[{key:"format",value:function(t){return t}}]),t}();function Ce(t,e,n){var o=new j("",function(t){var e=[];return t.options&&e.push(new w({options:t.options})),new g({constraints:e})}(n)),r=new V({reader:s,target:e,value:o});return new it(t,{binding:r,controller:function(t,e){var n=e.constraint;return n&&k.findConstraint(n,w)?new Y(t,{stringifyValue:f,value:e}):new Dt(t,{formatter:new xe,parser:f,value:e})}(t,o),label:n.label||e.key})}function Oe(t,e){var n={label:t.label,max:t.max,min:t.min,step:t.step};if(t.options)if(Array.isArray(t.options))n.options=t.options.map(function(t){return{text:t.text,value:e(t.value)}});else{var o=t.options,r=Object.keys(o);n.options=r.reduce(function(t,n){return t.concat({text:n,value:e(o[n])})},[])}return n}function Ee(t,e,n){var o=e.read();if("boolean"==typeof o)return at(t,e,Oe(n,i));if("number"==typeof o)return we(t,e,Oe(n,l));if("string"==typeof o){var r=y(o);return r?function(t,e,n,o){var r=new j(n);return new it(t,{binding:new V({reader:ut,target:e,value:r,writer:lt}),controller:new Rt(t,{formatter:new st,parser:y,value:r}),label:o.label||e.key})}(t,e,r,n):Ce(t,e,Oe(n,s))}throw new p({context:{key:e.key},type:"nomatchingcontroller"})}function je(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Se=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onTick_=this.onTick_.bind(this),this.reader_=e.reader,this.target=e.target,this.value=e.value,this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}return function(t,e,n){e&&je(t.prototype,e),n&&je(t,n)}(t,[{key:"read",value:function(){var t=this.target.read();void 0!==t&&this.value.append(this.reader_(t))}},{key:"onTick_",value:function(){this.read()}}]),t}();function Ve(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Pe=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onTick_=this.onTick_.bind(this),this.onWindowBlur_=this.onWindowBlur_.bind(this),this.onWindowFocus_=this.onWindowFocus_.bind(this),this.active_=!0,this.emitter=new O,n>0&&(this.id_=setInterval(function(){o.active_&&o.onTick_()},n))}return function(t,e,n){e&&Ve(t.prototype,e),n&&Ve(t,n)}(t,[{key:"dispose",value:function(){this.id_&&(clearInterval(this.id_),this.id_=null)}},{key:"onTick_",value:function(){this.emitter.emit("tick")}},{key:"onWindowBlur_",value:function(){this.active_=!1}},{key:"onWindowFocus_",value:function(){this.active_=!0}}]),t}();function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Le(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Me(t){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ie(t,e){return(Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var De=L("mll","monitor"),Fe=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ue(Ue(o=function(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?Ue(t):e}(this,Me(e).call(this,t)))).onValueUpdate_=o.onValueUpdate_.bind(Ue(Ue(o))),o.formatter_=n.formatter,o.element.classList.add(De());var r=t.createElement("textarea");return r.classList.add(De("i")),r.readOnly=!0,o.element.appendChild(r),o.textareaElem_=r,n.value.emitter.on("update",o.onValueUpdate_),o.value=n.value,o.update(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}(e,I),function(t,e,n){e&&Le(t.prototype,e),n&&Le(t,n)}(e,[{key:"update",value:function(){var t=this,e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight;e.textContent=this.value.rawValues.map(function(e){return t.formatter_.format(e)}).join("\n"),n&&(e.scrollTop=e.scrollHeight)}},{key:"onValueUpdate_",value:function(){this.update()}}]),e}();var Re=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=n.value,this.view=new Fe(e,{formatter:n.formatter,value:this.value})};function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Ke=L("sgl","monitor"),Ne=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xe(Xe(o=function(t,e){return!e||"object"!==ze(e)&&"function"!=typeof e?Xe(t):e}(this,Be(e).call(this,t)))).onValueUpdate_=o.onValueUpdate_.bind(Xe(Xe(o))),o.formatter_=n.formatter,o.element.classList.add(Ke());var r=t.createElement("input");return r.classList.add(Ke("i")),r.readOnly=!0,r.type="text",o.element.appendChild(r),o.inputElem_=r,n.value.emitter.on("update",o.onValueUpdate_),o.value=n.value,o.update(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(e,I),function(t,e,n){e&&Ae(t.prototype,e),n&&Ae(t,n)}(e,[{key:"update",value:function(){var t=this.value.rawValues;this.inputElem_.value=t.length>0?this.formatter_.format(t[t.length-1]):""}},{key:"onValueUpdate_",value:function(){this.update()}}]),e}();var Ge=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=n.value,this.view=new Ne(e,{formatter:n.formatter,value:this.value})};function We(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var qe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.index_=-1}return function(t,e,n){e&&We(t.prototype,e),n&&We(t,n)}(t,[{key:"index",get:function(){return this.index_},set:function(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",[t]))}}]),t}();function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ye(t,e){return(Ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ze(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var tn="http://www.w3.org/2000/svg",en=L("grp","monitor"),nn=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ze(Ze(o=function(t,e){return!e||"object"!==$e(e)&&"function"!=typeof e?Ze(t):e}(this,Qe(e).call(this,t)))).onCursorChange_=o.onCursorChange_.bind(Ze(Ze(o))),Ze(Ze(o)).onValueUpdate_=o.onValueUpdate_.bind(Ze(Ze(o))),o.element.classList.add(en()),o.formatter_=n.formatter,o.minValue_=n.minValue,o.maxValue_=n.maxValue,o.cursor_=n.cursor,o.cursor_.emitter.on("change",o.onCursorChange_);var r=t.createElementNS(tn,"svg");r.classList.add(en("g")),o.element.appendChild(r),o.svgElem_=r;var i=t.createElementNS(tn,"polyline");o.svgElem_.appendChild(i),o.lineElem_=i;var a=t.createElement("div");return a.classList.add(en("t")),o.element.appendChild(a),o.tooltipElem_=a,n.value.emitter.on("update",o.onValueUpdate_),o.value=n.value,o.update(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ye(t,e)}(e,I),function(t,e,n){e&&Je(t.prototype,e),n&&Je(t,n)}(e,[{key:"update",value:function(){var t=this.svgElem_.getBoundingClientRect(),e=this.value.totalCount-1,n=this.minValue_,o=this.maxValue_;this.lineElem_.setAttributeNS(null,"points",this.value.rawValues.map(function(r,i){return[Nt.map(i,0,e,0,t.width),Nt.map(r,n,o,t.height,0)].join(",")}).join(" "));var r=this.tooltipElem_,i=this.value.rawValues[this.cursor_.index];if(void 0!==i){r.classList.add(en("t","valid"));var a=Nt.map(this.cursor_.index,0,e,0,t.width),u=Nt.map(i,n,o,t.height,0);r.style.left="".concat(a,"px"),r.style.top="".concat(u,"px"),this.tooltipElem_.textContent="".concat(this.formatter_.format(i))}else r.classList.remove(en("t","valid"))}},{key:"onValueUpdate_",value:function(){this.update()}},{key:"onCursorChange_",value:function(){this.update()}},{key:"graphElement",get:function(){return this.svgElem_}}]),e}();function on(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var rn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.value=n.value,this.cursor_=new qe,this.view=new nn(e,{cursor:this.cursor_,formatter:n.formatter,maxValue:n.maxValue,minValue:n.minValue,value:this.value}),this.view.graphElement.addEventListener("mouseleave",this.onGraphMouseLeave_),this.view.graphElement.addEventListener("mousemove",this.onGraphMouseMove_)}return function(t,e,n){e&&on(t.prototype,e),n&&on(t,n)}(t,[{key:"onGraphMouseLeave_",value:function(){this.cursor_.index=-1}},{key:"onGraphMouseMove_",value:function(t){var e=this.view.graphElement.getBoundingClientRect(),n=t.offsetX;this.cursor_.index=Math.floor(Nt.map(n,0,e.width,0,this.value.totalCount))}}]),t}();var an=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.binding=n.binding,this.controller=n.controller,this.view=new rt(e,{label:n.label,view:this.controller.view})};function un(){return new Kt(2)}function ln(t,e,n){var o=e.read();if("number"==typeof o)return"graph"===n.type?function(t,e,n){var o=new pt(h.getOrDefault(n.count,64)),r=new Pe(t,h.getOrDefault(n.interval,200));return new an(t,{binding:new Se({reader:l,value:o,target:e,ticker:r}),controller:new rn(t,{formatter:un(),maxValue:h.getOrDefault(n.max,100),minValue:h.getOrDefault(n.min,0),value:o}),label:n.label||e.key})}(t,e,n):function(t,e,n){var o=new pt(h.getOrDefault(n.count,1)),r=1===o.totalCount?new Ge(t,{formatter:un(),value:o}):new Re(t,{formatter:un(),value:o}),i=new Pe(t,h.getOrDefault(n.interval,200));return new an(t,{binding:new Se({reader:l,value:o,target:e,ticker:i}),controller:r,label:n.label||e.key})}(t,e,n);if("string"==typeof o)return function(t,e,n){var o=new pt(h.getOrDefault(n.count,1)),r=o.totalCount>1||n.multiline?new Re(t,{formatter:new xe,value:o}):new Ge(t,{formatter:new xe,value:o}),i=new Pe(t,h.getOrDefault(n.interval,200));return new an(t,{binding:new Se({reader:s,value:o,target:e,ticker:i}),controller:r,label:n.label||e.key})}(t,e,n);throw new p({context:{key:e.key},type:"nomatchingcontroller"})}function cn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var sn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.title=e}return function(t,e,n){e&&cn(t.prototype,e),n&&cn(t,n)}(t,[{key:"click",value:function(){this.emitter.emit("click")}}]),t}();function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function hn(t,e){return!e||"object"!==fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bn=L("btn"),yn=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=hn(this,dn(e).call(this,t))).button=n.button,o.element.classList.add(bn());var r=t.createElement("button");return r.classList.add(bn("b")),r.textContent=o.button.title,o.element.appendChild(r),o.buttonElem_=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vn(t,e)}(e,I),function(t,e,n){e&&pn(t.prototype,e),n&&pn(t,n)}(e,[{key:"buttonElement",get:function(){return this.buttonElem_}}]),e}();function mn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var gn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onButtonClick_=this.onButtonClick_.bind(this),this.button=new sn(n.title),this.view=new yn(e,{button:this.button}),this.view.buttonElement.addEventListener("click",this.onButtonClick_)}return function(t,e,n){e&&mn(t.prototype,e),n&&mn(t,n)}(t,[{key:"onButtonClick_",value:function(){this.button.click()}}]),t}();function _n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var wn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.expanded_=n,this.expandedHeight_=null,this.title=e}return function(t,e,n){e&&_n(t.prototype,e),n&&_n(t,n)}(t,[{key:"expanded",get:function(){return this.expanded_},set:function(t){this.expanded_!==t&&(this.expanded_=t,this.emitter.emit("change"))}},{key:"expandedHeight",get:function(){return this.expandedHeight_},set:function(t){this.expandedHeight_!==t&&(this.expandedHeight_=t,this.emitter.emit("change"))}}]),t}();function kn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var xn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emitter=new O,this.items_=[]}return function(t,e,n){e&&kn(t.prototype,e),n&&kn(t,n)}(t,[{key:"append",value:function(t){this.items_.push(t),this.emitter.emit("append",[t])}},{key:"items",get:function(){return this.items_}}]),t}();function Cn(t){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function En(t){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jn(t,e){return(jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Vn=L("fld"),Pn=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Sn(Sn(o=function(t,e){return!e||"object"!==Cn(e)&&"function"!=typeof e?Sn(t):e}(this,En(e).call(this,t)))).onFolderChange_=o.onFolderChange_.bind(Sn(Sn(o))),o.folder_=n.folder,o.folder_.emitter.on("change",o.onFolderChange_),o.element.classList.add(Vn());var r=t.createElement("button");r.classList.add(Vn("t")),r.textContent=o.folder_.title,o.element.appendChild(r),o.titleElem_=r;var i=t.createElement("div");i.classList.add(Vn("m")),o.titleElem_.appendChild(i);var a=t.createElement("div");return a.classList.add(Vn("c")),o.element.appendChild(a),o.containerElem_=a,o.applyModel_(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jn(t,e)}(e,I),function(t,e,n){e&&On(t.prototype,e),n&&On(t,n)}(e,[{key:"applyModel_",value:function(){var t=this,e=this.folder_.expanded,n=Vn(null,"expanded");e?this.element.classList.add(n):this.element.classList.remove(n),h.ifNotEmpty(this.folder_.expandedHeight,function(n){var o=e?n:0;t.containerElem_.style.height="".concat(o,"px")},function(){t.containerElem_.style.height=e?"auto":"0px"})}},{key:"onFolderChange_",value:function(){this.applyModel_()}},{key:"titleElement",get:function(){return this.titleElem_}},{key:"containerElement",get:function(){return this.containerElem_}}]),e}();function Tn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ln=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onFolderChange_=this.onFolderChange_.bind(this),this.onInputChange_=this.onInputChange_.bind(this),this.onMonitorUpdate_=this.onMonitorUpdate_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiControllerListAppend_=this.onUiControllerListAppend_.bind(this),this.emitter=new O,this.folder=new wn(n.title,h.getOrDefault(n.expanded,!0)),this.folder.emitter.on("change",this.onFolderChange_),this.ucList_=new xn,this.ucList_.emitter.on("append",this.onUiControllerListAppend_),this.doc_=e,this.view=new Pn(this.doc_,{folder:this.folder}),this.view.titleElement.addEventListener("click",this.onTitleClick_)}return function(t,e,n){e&&Tn(t.prototype,e),n&&Tn(t,n)}(t,[{key:"computeExpandedHeight_",value:function(){var t=this,e=this.view.containerElement,n=0;return function(t,e){var n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}(e,function(){var o=t.folder.expanded;t.folder.expandedHeight=null,t.folder.expanded=!0,he(e),n=e.getBoundingClientRect().height,t.folder.expanded=o,he(e)}),n}},{key:"onTitleClick_",value:function(){this.folder.expanded=!this.folder.expanded}},{key:"onUiControllerListAppend_",value:function(t){if(t instanceof it)t.binding.value.emitter.on("change",this.onInputChange_);else if(t instanceof an){t.binding.value.emitter.on("update",this.onMonitorUpdate_)}this.view.containerElement.appendChild(t.view.element),this.folder.expandedHeight=this.computeExpandedHeight_()}},{key:"onInputChange_",value:function(t){this.emitter.emit("inputchange",[t])}},{key:"onMonitorUpdate_",value:function(t){this.emitter.emit("monitorupdate",[t])}},{key:"onFolderChange_",value:function(){this.emitter.emit("fold")}},{key:"document",get:function(){return this.doc_}},{key:"uiControllerList",get:function(){return this.ucList_}}]),t}();function Mn(t){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Un(t){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dn(t,e){return(Dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Rn=L("rot"),zn=function(t){function e(t,n){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fn(Fn(o=function(t,e){return!e||"object"!==Mn(e)&&"function"!=typeof e?Fn(t):e}(this,Un(e).call(this,t)))).onFolderChange_=o.onFolderChange_.bind(Fn(Fn(o))),o.folder_=n.folder,o.folder_&&o.folder_.emitter.on("change",o.onFolderChange_),o.element.classList.add(Rn());var r=o.folder_;if(r){var i=t.createElement("button");i.classList.add(Rn("t")),i.textContent=r.title,o.element.appendChild(i);var a=t.createElement("div");a.classList.add(Rn("m")),i.appendChild(a),o.titleElem_=i}var u=t.createElement("div");return u.classList.add(Rn("c")),o.element.appendChild(u),o.containerElem_=u,o.applyModel_(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dn(t,e)}(e,I),function(t,e,n){e&&In(t.prototype,e),n&&In(t,n)}(e,[{key:"applyModel_",value:function(){var t=!this.folder_||this.folder_.expanded,e=Rn(null,"expanded");t?this.element.classList.add(e):this.element.classList.remove(e)}},{key:"onFolderChange_",value:function(){this.applyModel_()}},{key:"titleElement",get:function(){return this.titleElem_}},{key:"containerElement",get:function(){return this.containerElem_}}]),e}();function An(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Bn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onFolderChange_=this.onFolderChange_.bind(this),this.onRootFolderChange_=this.onRootFolderChange_.bind(this),this.onTitleClick_=this.onTitleClick_.bind(this),this.onUiControllerListAppend_=this.onUiControllerListAppend_.bind(this),this.onInputChange_=this.onInputChange_.bind(this),this.onMonitorUpdate_=this.onMonitorUpdate_.bind(this),this.emitter=new O,this.folder=function(t){return t.title?new wn(t.title,h.getOrDefault(t.expanded,!0)):null}(n),this.ucList_=new xn,this.ucList_.emitter.on("append",this.onUiControllerListAppend_),this.doc_=e,this.view=new zn(this.doc_,{folder:this.folder}),this.view.titleElement&&this.view.titleElement.addEventListener("click",this.onTitleClick_),this.folder&&this.folder.emitter.on("change",this.onRootFolderChange_)}return function(t,e,n){e&&An(t.prototype,e),n&&An(t,n)}(t,[{key:"onUiControllerListAppend_",value:function(t){if(t instanceof it)t.binding.value.emitter.on("change",this.onInputChange_);else if(t instanceof an){t.binding.value.emitter.on("update",this.onMonitorUpdate_)}else if(t instanceof Ln){var e=t.emitter;e.on("fold",this.onFolderChange_),e.on("inputchange",this.onInputChange_),e.on("monitorupdate",this.onMonitorUpdate_)}this.view.containerElement.appendChild(t.view.element)}},{key:"onTitleClick_",value:function(){this.folder&&(this.folder.expanded=!this.folder.expanded)}},{key:"onInputChange_",value:function(t){this.emitter.emit("inputchange",[t])}},{key:"onMonitorUpdate_",value:function(t){this.emitter.emit("monitorupdate",[t])}},{key:"onFolderChange_",value:function(){this.emitter.emit("fold")}},{key:"onRootFolderChange_",value:function(){this.emitter.emit("fold")}},{key:"document",get:function(){return this.doc_}},{key:"uiControllerList",get:function(){return this.ucList_}}]),t}();function Hn(t){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){return!e||"object"!==Hn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nn(t,e){return(Nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gn=L("spt"),Wn=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Xn(this,Kn(e).call(this,t))).element.classList.add(Gn());var o=t.createElement("hr");return o.classList.add(Gn("r")),n.element.appendChild(o),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nn(t,e)}(e,I),e}();var qn=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=new Wn(e)};function $n(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jn(t,e){return t.reduce(function(t,n){return n instanceof Ln&&t.push.apply(t,$n(Jn(n.uiControllerList.items,e))),n instanceof e&&t.push(n),t},[])}function Qn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Yn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&Qn(t.prototype,e),n&&Qn(t,n)}(t,[{key:"on",value:function(t,e){this.controller.button.emitter.on(t,e)}}]),t}();function Zn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var to=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&Zn(t.prototype,e),n&&Zn(t,n)}(t,[{key:"on",value:function(t,e){return this.controller.binding.value.emitter.on(t,e),this}},{key:"refresh",value:function(){this.controller.binding.read()}}]),t}();function eo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var no=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&eo(t.prototype,e),n&&eo(t,n)}(t,[{key:"on",value:function(t,e){return this.controller.binding.value.emitter.on(t,e),this}},{key:"refresh",value:function(){this.controller.binding.read()}}]),t}();function oo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ro={change:"inputchange",fold:"fold",update:"monitorupdate"},io=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&oo(t.prototype,e),n&&oo(t,n)}(t,[{key:"addInput",value:function(t,e,n){var o=n||{},r=Ee(this.controller.document,new v(t,e,o.presetKey),o);return this.controller.uiControllerList.append(r),new to(r)}},{key:"addMonitor",value:function(t,e,n){var o=n||{},r=ln(this.controller.document,new v(t,e),o);return this.controller.uiControllerList.append(r),new no(r)}},{key:"addButton",value:function(t){var e=new gn(this.controller.document,t);return this.controller.uiControllerList.append(e),new Yn(e)}},{key:"addSeparator",value:function(){var t=new qn(this.controller.document);this.controller.uiControllerList.append(t)}},{key:"on",value:function(t,e){var n=ro[t];n&&this.controller.emitter.on(n,e);return this}},{key:"expanded",get:function(){return this.controller.folder.expanded},set:function(t){this.controller.folder.expanded=t}}]),t}();function ao(t){return t.reduce(function(t,e){return Object.assign(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e.presetKey,e.read()))},{})}function uo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var lo={change:"inputchange",fold:"fold",update:"monitorupdate"},co=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controller=e}return function(t,e,n){e&&uo(t.prototype,e),n&&uo(t,n)}(t,[{key:"addInput",value:function(t,e,n){var o=n||{},r=Ee(this.controller.document,new v(t,e,o.presetKey),o);return this.controller.uiControllerList.append(r),new to(r)}},{key:"addMonitor",value:function(t,e,n){var o=n||{},r=ln(this.controller.document,new v(t,e),o);return this.controller.uiControllerList.append(r),new no(r)}},{key:"addButton",value:function(t){var e=new gn(this.controller.document,t);return this.controller.uiControllerList.append(e),new Yn(e)}},{key:"addFolder",value:function(t){var e=new Ln(this.controller.document,t);return this.controller.uiControllerList.append(e),new io(e)}},{key:"addSeparator",value:function(){var t=new qn(this.controller.document);this.controller.uiControllerList.append(t)}},{key:"importPreset",value:function(t){!function(t,e){t.forEach(function(t){var n=e[t.presetKey];void 0!==n&&t.write(n)})}(Jn(this.controller.uiControllerList.items,it).map(function(t){return t.binding.target}),t),this.refresh()}},{key:"exportPreset",value:function(){return ao(Jn(this.controller.uiControllerList.items,it).map(function(t){return t.binding.target}))}},{key:"on",value:function(t,e){var n=lo[t];n&&this.controller.emitter.on(n,e);return this}},{key:"refresh",value:function(){Jn(this.controller.uiControllerList.items,it).forEach(function(t){t.binding.read()}),Jn(this.controller.uiControllerList.items,an).forEach(function(t){t.binding.read()})}},{key:"element",get:function(){return this.controller.view.element}},{key:"expanded",get:function(){var t=this.controller.folder;return!t||t.expanded},set:function(t){var e=this.controller.folder;e&&(e.expanded=t)}}]),t}();function so(t){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){return!e||"object"!==so(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function po(t){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ho(t,e){return(ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"default",function(){return vo});var vo=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=t||{},i=h.getOrDefault(o.document,h.forceCast(new Function("return this")()).document);!function(t){if(!t.querySelector("style[data-for=".concat("tweakpane","]"))){var e=t.createElement("style");e.dataset.for="tweakpane",e.textContent=r.a.toString(),t.head&&t.head.appendChild(e)}}(i);var a=new Bn(i,{title:o.title});return n=fo(this,po(e).call(this,a)),(o.container||function(t){var e=t.createElement("div");return e.classList.add(L("dfw")()),t.body&&t.body.appendChild(e),e}(i)).appendChild(n.element),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ho(t,e)}(e,co),e}()}])});